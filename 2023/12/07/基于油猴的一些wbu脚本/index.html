<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="人文，博客">
    <meta name="description" content=" 死并非生的对立面，而是作为生的一部分永存 ">
    <meta name="author" content="云湍">
    
    <title>
        
            基于油猴的一些wbu脚本 |
        
        云湍小站
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
        <link rel="shortcut icon" href="/images/%E5%A4%B4%E5%83%8F.jpg">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/font/css/fontawesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/font/css/regular.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/font/css/solid.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/font/css/brands.min.css">
    
        
            
        
    
    <script class="keep-theme-configurations">
    const KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"cloudstill.github.io","root":"/","language":"zh-CN","path":"search.json"}
    KEEP.theme_config = {"base_info":{"primary_color":"#0066cc","title":"云湍小站","author":"云湍","avatar":"/images/头像.jpg","logo":null,"favicon":"/images/头像.jpg"},"menu":{"Home":"/","Archives":"/archives","Tags":"/tags","Categories":"/categories","About":"/about"},"first_screen":{"enable":true,"background_img":"/images/封面_07.jpg","background_img_dark":"/images/封面_07.jpg","description":"死并非生的对立面，而是作为生的一部分永存。","hitokoto":false},"social_contact":{"enable":true,"links":{"qq":"https://qm.qq.com/cgi-bin/qm/qr?k=w-ji3n3RTtX8vUJk-4phfVGWCcCwLeuV&noverify=0&personal_qrcode_source=4","weixin":"https://u.wechat.com/EK-0ovGAMnbXw8YEe8TsGrk"}},"scroll":{"progress_bar":false,"percent":true,"hide_header":true},"home":{"announcement":"ACM协会招新ing...","category":true,"tag":true,"post_datetime":"updated"},"post":{"author_badge":{"enable":true,"level_badge":true,"custom_badge":["One","Two","Three"]},"word_count":{"wordcount":true,"min2read":true},"datetime_format":"YYYY-MM-DD HH:mm:ss","copyright_info":true,"share":true,"reward":{"enable":false,"img_link":null,"text":null,"icon":null}},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"obsidian"},"toc":{"enable":true,"number":false,"expand_all":false,"init_open":true,"layout":"right"},"website_count":{"busuanzi_count":{"enable":true,"site_uv":true,"site_pv":true,"page_pv":true}},"local_search":{"enable":true,"preload":true},"comment":{"enable":true,"use":"valine","valine":{"appid":"Wh3jFmErROxeu2W2QqY0HeiJ-gzGzoHsz","appkey":"AoClJUljWDd4re4rYNjeP9ma","server_urls":null,"placeholder":"尽情评论吧！"},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.36"},"waline":{"server_url":null,"reaction":false,"version":"3.2.1"},"giscus":{"repo":null,"repo_id":null,"category":"Announcements","category_id":null,"reactions_enabled":false},"artalk":{"server":null},"disqus":{"shortname":null}},"rss":{"enable":false},"lazyload":{"enable":true},"cdn":{"enable":true,"provider":"cdnjs"},"pjax":{"enable":true},"footer":{"since":2020,"word_count":true,"site_deploy":{"enable":false,"provider":"github","url":null},"record":{"enable":false,"list":[{"code":null,"link":null}]}},"inject":{"enable":true,"css":[null],"js":[null]},"root":"","source_data":{},"version":"4.2.0"}
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"}
    KEEP.language_code_block = {"copy":"复制代码","copied":"已复制","fold":"折叠代码块","folded":"已折叠"}
    KEEP.language_copy_copyright = {"copy":"复制版权信息","copied":"已复制","title":"原文标题","author":"原文作者","link":"原文链接"}
  </script>
<meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title=" 云湍小站 " type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i>
    
</div>



<main class="page-container border-box">
    <!-- home first screen  -->
    

    <!-- page content -->
    <div class="page-main-content border-box">
        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="border-box header-content">
        <div class="left flex-start border-box">
            
            <a class="site-name border-box" href="/">
               云湍小站
            </a>
        </div>

        <div class="right border-box">
            <div class="pc border-box">
                <ul class="menu-list border-box">
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/">
                                
                                首页
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/archives">
                                
                                归档
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/tags">
                                
                                标签
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/categories">
                                
                                分类
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/about">
                                
                                关于
                                
                            </a>
                            
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="menu-text-color fas search fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile border-box flex-start">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list border-box">
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/">
                            
                            首页
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/archives">
                            
                            归档
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/tags">
                            
                            标签
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/categories">
                            
                            分类
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/about">
                            
                            关于
                        </a>
                        
                    </label>
                    
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle border-box">

            <div class="main-content border-box">
                

                    
<div class="fade-in-down-animation">
    <div class="post-page-container border-box">
        <div class="post-content-container border-box">
            

            <div class="post-content-bottom border-box">
                
                    <div class="post-title">
                        基于油猴的一些wbu脚本
                    </div>
                

                
                    <div class="post-header border-box">
                        
                            <div class="avatar-box border-box">
                                <img src="/images/%E5%A4%B4%E5%83%8F.jpg">
                            </div>
                        
                        <div class="info-box">
                            <div class="author border-box">
                                <span class="name">云湍</span>
                                
                                    <span class="author-badge">Lv3</span>
                                
                            </div>
                            <div class="meta-info border-box">
                                

<div class="post-meta-info-container border-box post">
    <div class="post-meta-info border-box">
        

        
            <span class="meta-info-item post-create-date">
                <i class="icon fa-solid fa-calendar-plus"></i>&nbsp;
                <span class="datetime">2023-12-07 00:54:37</span>
            </span>

            <span class="meta-info-item post-update-date">
                <i class="icon fa-solid fa-file-pen"></i>&nbsp;
                <span class="datetime" data-updated="Thu Dec 07 2023 01:32:07 GMT+0800">2023-12-07 01:32:07</span>
            </span>
        

        
            <span class="meta-info-item post-category border-box"><i class="icon fas fa-folder"></i>&nbsp;
                <ul class="post-category-ul">
                    
                            <li class="category-item"><a href="/categories/%E8%84%9A%E6%9C%AC/">脚本</a></li>
                        
                    
                </ul>
            </span>
        

        
            <span class="post-tag meta-info-item border-box">
                <ul class="post-tag-ul">
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/%E8%84%9A%E6%9C%AC/">脚本</a></li>
                        
                    
                </ul>
            </span>
        

        
        
            <span class="meta-info-item post-wordcount">
                <i class="icon fas fa-file-word"></i>&nbsp;<span>9.7k 字</span>
            </span>
        
        
            <span class="meta-info-item post-min2read">
                <i class="icon fas fa-clock"></i>&nbsp;<span>59 分钟</span>
            </span>
        
        
            <span class="meta-info-item post-pv">
                <i class="icon fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
            </span>
        
    </div>

    
</div>

                            </div>
                        </div>
                    </div>
                

                <div class="post-content keep-markdown-body ">
                    

                    
                         <h2 id="前言及声明"><a href="#前言及声明" class="headerlink" title="前言及声明"></a>前言及声明</h2><p>鉴于wbu教务系统的垃圾以及评教每次还要打开兼容模式，本文利用油猴实现了一些脚本便于同学们的学习体验。<br>脚本作者Simprole是很厉害的大佬，他高兴的应该还会开源更多脚本吧~</p>
<p>注：本文涉及脚本作者均为Simprole，代码且已开源，一切后果均需自己承担。</p>
<h2 id="美化界面"><a href="#美化界面" class="headerlink" title="美化界面"></a>美化界面</h2><p>效果如图：<br><img lazyload alt="image" data-src="/./%E5%9F%BA%E4%BA%8E%E6%B2%B9%E7%8C%B4%E7%9A%84%E4%B8%80%E4%BA%9Bwbu%E8%84%9A%E6%9C%AC/pic1.png"></p>
<p>代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ==UserScript==</span></span><br><span class="line"><span class="comment">// @name         WBUESPBeautify</span></span><br><span class="line"><span class="comment">// @namespace    http://tampermonkey.net/</span></span><br><span class="line"><span class="comment">// @version      0.9.1</span></span><br><span class="line"><span class="comment">// @description  WBUESP美化</span></span><br><span class="line"><span class="comment">// @author       Simprole</span></span><br><span class="line"><span class="comment">// @match        http://jw.wbu.edu.cn/jsxsd/*</span></span><br><span class="line"><span class="comment">// @match        http://jw-wbu-edu-cn.webvpn.wbu.edu.cn:8118/jsxsd/*</span></span><br><span class="line"><span class="comment">// @icon         https://www.wbu.edu.cn/_upload/tpl/00/a9/169/template169/images/favicon.ico</span></span><br><span class="line"><span class="comment">// @run-at       document-start</span></span><br><span class="line"><span class="comment">// @resource css https://s1.hdslb.com/bfs/static/jinkela/long/font/medium.css</span></span><br><span class="line"><span class="comment">// @resource icon https://gitee.com/dmaker/simpage/raw/master/iconfont.css</span></span><br><span class="line"><span class="comment">// @require      https://libs.baidu.com/jquery/2.0.0/jquery.min.js</span></span><br><span class="line"><span class="comment">// @require      https://gitee.com/dmaker/simpage/raw/master/js.cookie.min.js</span></span><br><span class="line"><span class="comment">// @grant        unsafeWindow</span></span><br><span class="line"><span class="comment">// @grant        GM_addStyle</span></span><br><span class="line"><span class="comment">// @grant        GM_getResourceText</span></span><br><span class="line"><span class="comment">// ==/UserScript==</span></span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    $(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//import HarmonyOS font</span></span><br><span class="line">    <span class="title function_">GM_addStyle</span>(<span class="title function_">GM_getResourceText</span>(<span class="string">&quot;css&quot;</span>));</span><br><span class="line">    <span class="comment">//external icons</span></span><br><span class="line">    <span class="title function_">GM_addStyle</span>(<span class="title function_">GM_getResourceText</span>(<span class="string">&quot;icon&quot;</span>));</span><br><span class="line">    <span class="comment">//root css</span></span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;style id=&quot;SimRootCSS&quot;&gt;:root&#123;--primary-theme-color: hsl(216.99deg 99.1% 56.67%);--secondary-theme-color: hsl(214.55deg 98.8% 67.25%);;--tertiary-theme-color:hsl(209 98% 70%);--hover_darken_color:brightness(0.75);&#125;body,div,dl,dt,p,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,select,blockquote,th,td,a,span,div &#123;padding:0;margin:0;font-size: 15px;font-family: &quot;HarmonyOS_Medium&quot;!important;&#125;html&#123;scroll-behavior: smooth;&#125;&lt;/style&gt;&#x27;</span>));</span><br><span class="line">    <span class="comment">//universal buttons css</span></span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;style id=&quot;SimUniButtonsCSS&quot;&gt;.button,center a[style][href],#dataView.dataTable td[class] a[style]&#123;width: unset!important;font-size: 1rem;background-image: none;color: #fff!important;;background-color: var(--primary-theme-color);border: var(--primary-theme-color);border-radius: 20px;box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.4);padding: 5px 10px 5px 15px;position: relative;letter-spacing: 5px;text-align: center;text-decoration:none!important;height: min-content;transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: filter,box-shadow,transform;&amp;.disabled,&amp;.disabled:hover&#123;box-shadow: none;cursor: no-drop;filter: brightness(0.6);transform: none;&#125;&amp;#btn_back&#123;left: 50%;translate: -50%;&#125;&amp;.centerButton&#123;left: 50%;translate: -50%;margin: -0.5rem 0 0.5rem 0;&#125;&#125;.Nsb_r_title div .button&#123;left:0;margin: 0.5rem 0.5rem 0;&#125;.Nsb_r_title button&#123;left: 50%;transform: translateX(-50%);&#125;form .buttons&#123;left: 50%;transform: translateX(-50%);position: relative;display: inline-block;&#125;.Nsb_r_list a&#123;background-color: var(--primary-theme-color);border: var(--primary-theme-color);border-radius: 20px;box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.3);padding: 3px 0;position: relative;text-align: center;color: #fff;display: list-item;transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: filter,box-shadow,transform;&#125;.Nsb_r_list a:hover, .button:hover, center a[style][href]:hover,#dataView.dataTable td[class] a[style]:hover&#123;text-decoration:none;filter: brightness(0.8);box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.7);transform: translateY(0.5px);transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: filter,box-shadow,transform;&#125;.Nsb_r_list_fy4 &#123;background: none;&amp; a &#123;width: 3em;text-align: center;background: var(--primary-theme-color);margin: 0 0.1em;border-radius: 2em;color: #fff;font-weight: bold;box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);-webkit-user-select: none;user-select: none;&#125;&amp; .disabled &#123;filter: brightness(0.6);box-shadow: none;cursor: no-drop;&#125;&amp;.dataTable .button#button1,&amp;.dataTable .button#button2&#123;left: 27%;&#125;&#125;.SimScale&#123;font-size: 1.8rem;height: 1.6rem;width: 1.6rem!important;line-height: 0;border-radius: 100%;display: flex;align-items: center;justify-content: center;margin: 0.25rem;&#125;&lt;/style&gt;&#x27;</span>));</span><br><span class="line">    <span class="comment">//universal charts css</span></span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;style id=&quot;SimUniChartsCSS&quot;&gt;#dataList&#123;margin-top: 0.5rem;border-collapse: separate;position: relative;transform-origin: top!important;&amp; th&#123;background: var(--secondary-theme-color);border: none;color: #fff;width: min-content;line-height: initial;font-size: 1rem;padding: 0 0.5rem;&#125;&amp; td&#123;border: solid 0.05rem var(--secondary-theme-color);color: #000;text-align: center;box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.3);font-size: 1rem;word-break: keep-all;&#125;&amp; .Nsb_r_list_thb&#123;box-shadow: 0px 4px 5px rgba(0, 0, 0, 0.3);border: none;background: var(--secondary-theme-color);font-size: 1.125rem;color: #fff;height: 2rem;font-weight: normal;text-align: center;&#125;&#125;#kbtable&#123;border-collapse: separate;transform-origin: 0 0;&amp; th&#123;background: var(--secondary-theme-color);border: none;color: #fff;width: min-content;line-height: initial;font-size: 1rem;padding: 0.5rem;box-shadow: 0px 4px 5px rgba(0, 0, 0, 0.3);&#125;&amp; td&#123;border: solid 0.05rem var(--secondary-theme-color);color: #000;text-align: center;box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.3);font-size: 1rem;word-break: keep-all;line-height: normal;&#125;&#125;[id].kbcontent,[id].kbcontent1&#123;background: var(--secondary-theme-color);border-radius: 1rem;color: #fff;padding: 0.2rem 0.8rem;box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.3);margin-bottom: 5px;&#125;.classLists[style]&#123;border-radius: 1rem;padding: 3px 5px;&#125;table.display&#123;&amp; thead th&#123;cursor:default;box-shadow: 0px 4px 5px rgba(0, 0, 0, 0.3);border: none;background: var(--secondary-theme-color);font-size: 1.125rem;color: #fff;text-align: center;font-weight: normal;&#125;&amp; tbody th&#123;background: var(--secondary-theme-color);border: none;color: #fff;width: min-content;line-height: initial;font-size: 1rem;padding: 0 0.5rem;&#125;&amp; td, td.center&#123;padding: 0.5rem 0;border: solid 0.05rem var(--secondary-theme-color);color: #000;text-align: center;box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.3);font-size: 1rem;word-break: keep-all;&#125;&amp; tr.odd&#123;background-color: #fff;&#125;&amp; tr.even&#123;background-color: var(--tertiary-theme-color);&#125;&#125;.Nsb_table,.display&#123;.thb_t_l&#123;border-radius: 1rem 0 0 0;&#125;.thb_t_r&#123;border-radius: 0 1rem 0 0;&#125;.thb_t_l.thb_t_r&#123;border-radius: 1rem 1rem 0 0;&#125;.thb_b_l&#123;border-radius: 0 0 0 1rem;&#125;.thb_b_r&#123;border-radius: 0 0 1rem 0;&#125;.thb_b_l.thb_b_r&#123;border-radius: 0 0 1rem 1rem;&#125;&#125;&lt;/style&gt;&#x27;</span>));</span><br><span class="line">    <span class="comment">//universal pages css</span></span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;style id=&quot;SimUniPagesCSS&quot;&gt;.Nsb_pw &#123;width: auto;margin: 0 2rem;.Nsb_r_title &#123;font-size: 1.25rem;font-weight: bold;color: #000;height: max-content;line-height: 1.5em;text-shadow: 0px 2px 3px rgba(0, 0, 0, 0.4);letter-spacing: 1px;margin: 0.5rem 0 0.5rem 0;text-align: center;&#125;.Nsb_layout_r .Nsb_r_title &#123;font-size: 1.25rem;font-weight: bold;color: #000;height: max-content;line-height: 1.5em;text-shadow: 0px 2px 3px rgba(0, 0, 0, 0.4);letter-spacing: 1px;margin: 0 0 0.5em 0;text-align: center;&#125;&#125;#SimInfo&#123;position: relative;left: 50%;transform: translateX(-50%);margin-top: 0.5rem;text-align: center;&#125;.SimStack&#123;transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: opacity;&amp;[stacked=true]&#123;opacity: 0%;transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: opacity;&#125;&amp;[stacked=false]&#123;opacity: 100%;transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: opacity;&#125;&#125;#SimStackTop&#123;cursor: pointer;transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: filter,transform,margin,margin-right,box-shadow;&amp;:hover&#123;transform: translateY(0.75px);filter: brightness(0.7);transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: filter,transform,margin,margin-right,box-shadow;&#125;&amp;[stacked=true]&#123;margin: 0px 7px 12px 0;transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: filter,transform,margin,margin-right,box-shadow;&#125;&amp;[stacked=false]&#123;margin-right: 0;transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: filter,transform,margin,margin-right,box-shadow;&#125;&#125;.hidden&#123;display: none;&#125;.SimScalePanel&#123;display: flex;position: fixed;align-items: center;justify-content: center;flex-direction: row;right: 0;bottom: 0;opacity: 0.2;transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1) 1s;transition-property: opacity,transform;&amp;.rightPage&#123;opacity: 1;position: relative;.SimScaleText&#123;opacity: 1;transform: 0;font-size:1rem;transform: none;&#125;&#125;.SimScaleText&#123;opacity: 0;user-select: none;font-size: 1.3rem;transform: translateX(50%);transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1) 1s;transition-property: opacity,transform;&#125;&amp;:hover&#123;opacity: 1.0;transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: opacity,transform;.SimScaleText&#123;opacity: 1;transform: translateX(0%);transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: opacity,transform;&#125;&#125;&#125;.SimSelect&#123;text-align: center;font-size: 1rem;border: 2px solid var(--secondary-theme-color);border-radius: 1rem;height: 1.7rem;width: 203px!important;margin: 0.125rem 0;box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.3);transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: border,box-shadow;&amp;.Slim&#123;width: 125px!important;&#125;&amp;:hover,&amp;:focus-visible&#123;outline:none;border: 2px solid var(--primary-theme-color);box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.3),inset 0px 2px 6px 0px var(--secondary-theme-color);transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: border,box-shadow;&#125;&#125;input.SimScaleInput.SimInput&#123;width: 4.5rem!important;font-size: 1.3rem;height: 1.4rem;box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);&#125;input.SimInput,.inputnormal&#123;width: 200px!important;text-align: center;border: 2px solid var(--primary-theme-color);border-radius: 1.5em;background-color: var(--tertiary-theme-color);text-shadow: 0px 0px 4px rgba(0,0,0,0.7);color: #fff;font-size: 1rem;height: 1.5rem;margin: 0.125rem 0;transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: transform,background-color,border,color;&#125;.SimInput.Slim&#123;width: 130px!important;&#125;input.SimInput&#123;&amp;:hover,&amp;:focus-visible&#123;outline: none;border: 2px solid var(--primary-theme-color);background-color:var(--secondary-theme-color);transform: scale(1.02);transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: transform,background-color,border,color;&#125;&amp;.disabled,.disabled:hover&#123;background-color: var(--secondary-theme-color);border: 2px solid var(--primary-theme-color);text-shadow: none;outline: none;cursor: no-drop;transform: none;filter: brightness(0.5);&#125;&amp;[readonly]&#123;&amp;:hover&#123;outline: 0px;&#125;&amp;:focus-visible&#123;outline: 0px;&#125;&#125;&#125;#SimTop&#123;position: fixed;right: 0.5rem;bottom: 0.5rem;font-size: 1rem;background-image: none;background-color: var(--primary-theme-color);border-radius: 20px;box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);color: #fff;&#125;&lt;/style&gt;&#x27;</span>));</span><br><span class="line">    <span class="comment">//footer css</span></span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;style id=&quot;SimFooterCSS&quot;&gt;.Nsb_rights &#123;height: max-content;line-height: normal;&#125;.info&#123;text-align: center;color: #000;&amp; .heart&#123;color: #ff0081;&#125;&#125;&lt;/style&gt;&#x27;</span>));</span><br><span class="line">    <span class="comment">//home page css</span></span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;style id=&quot;SimHomePageCSS&quot;&gt;.iconfont &#123;position: absolute;font-size: 75px;left: 50%;transform: translateX(-50%);top: 15px;&#125;.icon-xuanke,.icon-yonghu &#123;font-size: 75px;top: 80px;&#125;.icon-yonghu&#123;left: 22.5%!important;position: absolute;transform: translateX(-240%);cursor: pointer;transition: all 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);&amp;:hover&#123;filter: brightness(0.75);transform: translate(-240%,1px);transition-duration: 0.3s;transition: all 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);&#125;&#125;.block1,.block2,.block3,.block4,.block5,.block6,.block7,.block8,.block9,.block10,.block11,.block12&#123;box-shadow: 0px 4px 4px rgba(0,0,0,0.3);border-radius: 0.5rem;transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: filter,transform,box-shadow;&#125;.block1text&#123;width:auto;height: auto;position: relative;text-align: center;left: 50%;top: 42%;color:#fff;transform: translate(-30%,-90%);&#125;.block1tex,.block2tex&#123;-webkit-user-select: none;user-select: none;left:0px;position: relative;top: 12.5rem;text-align: center;color:#fff;&#125;.block3tex,.block4tex,.block5tex,.block6tex&#123;left:50%;position: absolute;top: 6.25rem;text-align: center;transform: translateX(-50%);&#125;.block7tex,.block8tex,.block9tex,.block10tex,.block11tex,.block12tex&#123;left:50%;transform: translateX(-50%);position: absolute;top: 6rem;text-align: center;width: max-content;&#125;.block2:hover,.block3:hover,.block4:hover,.block5:hover,.block6:hover,.block7:hover,.block8:hover,.block9:hover,.block10:hover,.block11:hover,.block12:hover&#123;box-shadow: 0px 1px 2px rgba(0,0,0,0.7);transform: translateY(2px);filter: brightness(0.75);transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: filter,transform,box-shadow;&#125;.block1 img,.block2 img,.block3 img,.block4 img,.block5 img,.block6 img,.block7 img,.block8 img,.block9 img,.block10 img,.block11 img,.block12 img,.block1app,.block1pc&#123;visibility: hidden;&#125;&lt;/style&gt;&#x27;</span>));</span><br><span class="line">    <span class="comment">//iframe css</span></span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;style id=&quot;SimIframeCSS&quot;&gt;div#SimPageOutline&#123;display: block;width: 68rem;height: 51.1rem;position: relative;left: 50%;transform: translateX(-50%);border: 0.5rem solid var(--primary-theme-color);background-color: var(--primary-theme-color);border-top: 0;border-radius: 1rem;box-shadow: 0px 3px 5px 2px rgba(0, 0, 0, 0.3);&#125;iframe#SimPage&#123;display: block;width: 68rem;height: 48.8rem;position: relative;left: 50%;transform: translateX(-50%);border-radius: 0 0 1rem 1rem;background-color: #fff;&#125;.Nsb_pw&#123;#fcenter&#123;margin-top:1rem;display: block;height: 52.5rem!important;position: relative;left: 50%;transform: translateX(-50%);border: 0.5rem solid var(--primary-theme-color);border-radius: 1rem;box-shadow: 0px 3px 5px 2px rgba(0, 0, 0, 0.3);&#125;.Nsb_layout_r #fcenter&#123;margin-top:1rem;display: block;height: 52.5rem!important;position: relative;left: 50%;transform: translateX(-50%);border: 0.5rem solid var(--primary-theme-color);border-radius: 1rem;box-shadow: 0px 3px 5px 2px rgba(0, 0, 0, 0.3);width: 68rem!important;&#125;&#125;.toolbar&#123;background: var(--primary-theme-color)!important;border-radius: 0 0 1rem 1rem;box-shadow: 0px 5px 5px rgba(0, 0, 0, 0.3);height: 2.5rem;&#125;a.closeButton&#123;float: right;display: block;left: 0.5rem;position: relative;cursor: pointer;&#125;div.closeButton&#123;font-size: 2.2rem;height: 2rem;line-height: 1.95rem;padding: 0rem 1.4rem 0 1.3rem;background: #FF513A;width: inherit;color: #fff;border-radius: 0 1rem 0 0;font-weight: bold;box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);-webkit-user-select: none;user-select: none;transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: filter,box-shadow,transform;&amp;:hover&#123;transform: translateY(0.75px);box-shadow: 0 1px 2px rgba(0, 0, 0, 0.7);filter: brightness(0.7);transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: filter,box-shadow,transform;&#125;&#125;.toolstitle &#123;height: 2rem;line-height: 2rem;color: #FFF;font-size: 1.15rem;background: var(--secondary-theme-color);font-weight: normal;text-align: center;box-shadow: 0 4px 7px 0px rgba(0, 0, 0, 0.3);&#125;table.textform&#123;width: 100%;padding-left: 0!important;&#125;font.tips&#123;float: right;position: relative;font-size: 1.5rem;margin: 0.5rem 2.25rem 0 0;font-family: &quot;HarmonyOS_Medium&quot;;&#125;textarea#xmms &#123;width: 93.5%!important;position: relative;margin: 0 2rem;border: 0.2rem solid var(--secondary-theme-color);border-radius: 1rem;box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: box-shadow,outline;&amp;:focus-visible &#123;outline: 0.2rem solid var(--primary-theme-color);box-shadow: 0px 7px 4px rgba(0, 0, 0, 0.3);transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: box-shadow,outline;&#125;&#125;textarea[style],textarea[type=text]&#123;position: relative;border: 0.2rem solid var(--secondary-theme-color);border-radius: 1rem;box-shadow: rgba(0, 0, 0, 0.3) 0px 2px 4px;transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: box-shadow,outline;&amp;:hover&#123;outline: 0.2rem solid var(--primary-theme-color);box-shadow: 0px 7px 4px rgba(0, 0, 0, 0.3);transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: box-shadow,outline;&#125;&#125;&lt;/style&gt;&#x27;</span>));</span><br><span class="line">    <span class="comment">//left sidebar css</span></span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;style id=&quot;SimLeftSidebarCSS&quot;&gt;.Nsb_r_list_tdfy &#123;border: none;&#125;.Nsb_layout_l &#123;float: left;width: 11.25rem;height: max-content;margin-top: 2rem;border-radius: 1rem;box-shadow: 0px 5px 5px rgba(0, 0, 0, 0.3);border:none;padding-bottom: 0.5rem;margin-bottom: 3rem;&#125;.Nsb_l_list &#123;&amp; ul &#123;padding-bottom: 0.5em;width: inherit;border-bottom: none;&#125;&amp; h4 &#123;margin: 0;padding: 6px 0;font-size: 17px;font-weight: bold;background-color: var(--primary-theme-color);border-radius: 1rem 1rem 0 0;box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.3);color: #fff;background-image: none;width: inherit;text-align: center;&#125;&amp; li &#123;margin: 0;width: inherit;&#125;&amp; a &#123;color: #000;padding: 4px 0px;text-align: center;position: relative;width: inherit;transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);transition-property: border-radius,background,color,transform,box-shadow;&amp;:hover &#123;border-radius: 1em;background: var(--tertiary-theme-color);box-shadow: inset 0px 2px 6px 1px rgb(0 0 0 / 30%);color: #fff;transform: translateY(0.5px);transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);transition-property: border-radius,background,color,transform,box-shadow;&#125;&#125;&amp; .Nsb_l_list_now &#123;background: var(--secondary-theme-color);color: #fff;padding: 4px 0;box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.3);transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);transition-property: border-radius,background,box-shadow,transform;&amp;:hover &#123;border-radius: 15px;background: var(--tertiary-theme-color);transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);transition-property: border-radius,background,box-shadow,transform;&#125;&#125;&#125;.Nsb_l_list_top &#123;height: 0;&#125;&lt;/style&gt;&#x27;</span>));</span><br><span class="line">    <span class="comment">//right page css</span></span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;style id=&quot;SimRightPageCSS&quot;&gt;.Nsb_layout_r &#123;padding: 2rem 0 0rem 0rem;margin: 0 0 3rem -11.25rem!important;left: 57%;transform: translateX(-50%);float: left;position: relative;.Nsb_table&#123;border-collapse: separate;position: relative;transform-origin: top!important;&#125;.Nsb_r_list&#123;.Nsb_r_list_thb&#123;box-shadow: 0px 4px 5px rgba(0, 0, 0, 0.3);border: none;background: var(--secondary-theme-color);font-size: 1.125rem;color: #fff;height: 2rem;text-align: center;font-weight: normal;&#125;&amp; th&#123;background: var(--secondary-theme-color);border: none;color: #fff;width: min-content;line-height: initial;font-size: 1rem;padding: 0 0.5rem;&#125;&amp; td&#123;border: solid 0.05rem var(--secondary-theme-color);color: #000;text-align: center;box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.3);font-size: 1rem;word-break: keep-all;&#125;&amp;.Nsb_table&#123;width: 68rem!important;&#125;&#125;&#125;.Nsb_r_list_fy2 input &#123;width: 2em;height: 1em;text-align: center;border: 2px solid var(--secondary-theme-color);border-radius: 1.5em;background-color: var(--tertiary-theme-color);text-shadow: 0px 0px 4px rgba(0,0,0,0.7);color: #fff;font-size: 1rem;border-radius: 1.5em;background-image: none;transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: transform,background-color,border;&amp;:hover,&amp;:focus-visible&#123;outline: none;border: 2px solid var(--primary-theme-color);background-color:var(--secondary-theme-color);transform: scale(1.02);transition: 0.3s cubic-bezier(0.39, 0.58, 0.57, 1);transition-property: transform,background-color,border;&#125;&#125;.Nsb_r_list_fy&#123;div,span,a&#123;height: 1.5em;line-height: 1.5em;&#125;&#125;#Form1[action] div&#123;text-align: center!important;&#125;td[width][align=right]&#123;width:7rem;&#125;td b font[face]&#123;font-family: &quot;HarmonyOS_Medium&quot;;&#125;td[style=&quot;background-color:#E5F3FE&quot;]&#123;background-color: #A6D3FE!important;color: #fff!important;text-shadow: 0 0 3px black;&#125;font[color=blue]&#123;color: var(--secondary-theme-color);&#125;&lt;/style&gt;&#x27;</span>));</span><br><span class="line">    <span class="comment">//top bar css</span></span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;style id=&quot;SimTopBarCSS&quot;&gt;.Nsb_menu_pw,.Nsb_menu &#123;height: 41px;line-height: 41px;background-color: var(--primary-theme-color);background-image:none;left: 50%;position: relative;transform: translateX(-50%);&#125;.Nsb_menu a &#123;color: #fff;font-weight: normal;border-radius: 2px;transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);transition-property: border-radius,transform,filter,background-color,box-shadow;&amp;:hover&#123;background-position: none;background-color: var(--primary-theme-color);background-image:none;height: 40px;filter: brightness(0.7);transform: translateY(0.75px);border-radius: 20px;box-shadow: inset 0px 3px 5px 0px rgba(0, 0, 0, 0.3);transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);transition-property: box-shadow,border-radius,transform,filter,background-color,;&#125;&#125;.Nsb_menu_pw &#123;box-shadow: 0px 5px 6px rgba(0, 0, 0, 0.3);&#125;.Nsb_top&#123;display: flex;justify-content: flex-end;flex-direction: row;align-items: center;&#125;.Nsb_top_menu &#123;position: relative;background-color: var(--secondary-theme-color);border-radius: 20px;box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.3);&amp; ul&#123;border:none;background: var(--primary-theme-color);border-radius: 20px;padding: 3px;box-shadow: -1px 0px 3px rgba(0, 0, 0, 0.3);&#125;&#125;.Nsb_top_menu_nc &#123;height: inherit;font-size: 1em;line-height: 2em;padding: 0 0.75em 0 1em;color: #fff;-webkit-user-select: none;user-select: none;cursor: pointer;transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: transform,filter;&amp;:hover&#123;filter: brightness(0.8);transform: translateY(1px);transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: transform,filter;&#125;&#125;.menu_cn&#123;&amp; a &#123;padding: 0 2em;font-size: 1.0625em;&#125;&amp; ul&#123;left: 50%;position: relative;transform: translateX(-50%);width: max-content;&#125;&#125;.Nsb_top_logo &#123;left: 0px;&#125;.Nsb_menu_li_now&#123;background: none;&#125;.Nsb_menu_li_h span &#123;background: url(../framework/images/Nsb_menu_h.gif) 0 -15px&#125;.Nsb_top_menu span, .Nsb_top_menu_id img&#123;visibility: hidden;&#125;&lt;/style&gt;&#x27;</span>));</span><br><span class="line">    <span class="comment">//iframe code</span></span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;script&gt;function JsMod(htmlurl,tmpWidth,tmpHeight)&#123;let inPage = document.createElement(&quot;iframe&quot;);;inPage.id = &quot;SimPage&quot;;let SimPage = document.createElement(&quot;div&quot;);SimPage.id = &quot;SimPageOutline&quot;;let toolbar = document.createElement(&quot;div&quot;);toolbar.innerHTML=\&#x27;&lt;a href=&quot;javascript:closeIframe();&quot; class=&quot;closeButton&quot;&gt;&lt;div class=&quot;closeButton&quot;&gt;×&lt;/div&gt;&lt;/a&gt;\&#x27;;SimPage.appendChild(toolbar);SimPage.appendChild(inPage);if(!document.getElementById(&quot;SimPage&quot;))&#123;if(document.getElementById(&quot;dataList&quot;))&#123;let dataList = document.getElementById(&quot;dataList&quot;);dataList.after(SimPage);dataList.style = &quot;display:none;&quot;;&#125;if(document.getElementsByClassName(&quot;Nsb_r_list Nsb_table&quot;)[0].id!=&quot;dataList&quot;)&#123;let table = document.getElementsByClassName(&quot;Nsb_r_list Nsb_table&quot;)[0];table.after(SimPage);table.style = &quot;display:none;&quot;;&#125;htmlurl=getRandomUrl(htmlurl);inPage.src = htmlurl;&#125;&#125;&lt;/script&gt;&#x27;</span>));</span><br><span class="line">    <span class="comment">//closeIframe code</span></span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;script&gt;function closeIframe()&#123;if(!document.getElementById(&quot;SimPage&quot;)&amp;&amp;window.parent.document.getElementById(&quot;SimPage&quot;))&#123;let parent = window.parent;if(parent.document.getElementById(&quot;dataList&quot;))&#123;parent.document.getElementById(&quot;dataList&quot;).style = &quot;&quot;;&#125;if(parent.document.getElementsByClassName(&quot;Nsb_r_list Nsb_table&quot;)[0].id!=&quot;dataList&quot;)&#123;parent.document.getElementsByClassName(&quot;Nsb_r_list Nsb_table&quot;)[0].style = &quot;&quot;;&#125;parent.document.getElementById(&quot;SimPageOutline&quot;).remove();&#125;else if(document.getElementsByClassName(&quot;Nsb_r_list Nsb_table&quot;)[0]&amp;&amp;document.getElementById(&quot;SimPage&quot;))&#123;if(document.getElementById(&quot;dataList&quot;))&#123;document.getElementById(&quot;dataList&quot;).style = &quot;&quot;;&#125;if(document.getElementsByClassName(&quot;Nsb_r_list Nsb_table&quot;)[0].id!=&quot;dataList&quot;)&#123;document.getElementsByClassName(&quot;Nsb_r_list Nsb_table&quot;)[0].style = &quot;&quot;;&#125;document.getElementById(&quot;SimPageOutline&quot;).remove();&#125;&#125;&lt;/script&gt;&#x27;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;kc&quot;</span>))&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;kc&quot;</span>).<span class="title function_">remove</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//修复评教页面宽度不为100%</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">width</span> = <span class="string">&quot;100%&quot;</span>;</span><br><span class="line">    <span class="comment">//去除前后方括号</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;td a[href]&quot;</span>))&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;td a[href]&quot;</span>).<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(e.<span class="property">previousSibling</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(e.<span class="property">previousSibling</span>.<span class="property">nodeValue</span>)&#123;</span><br><span class="line">                    <span class="keyword">let</span> value = e.<span class="property">previousSibling</span>.<span class="property">nodeValue</span>.<span class="title function_">replaceAll</span>(<span class="string">&quot;\t&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                    value = value.<span class="title function_">replaceAll</span>(<span class="string">&quot;\n&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                    value = value.<span class="title function_">replaceAll</span>(<span class="string">&quot; &quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                    <span class="keyword">if</span>(value==<span class="string">&quot;[&quot;</span>)&#123;</span><br><span class="line">                        e.<span class="property">previousSibling</span>.<span class="title function_">remove</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(e.<span class="property">nextSibling</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(e.<span class="property">nextSibling</span>.<span class="property">nodeValue</span>)&#123;</span><br><span class="line">                    <span class="keyword">let</span> value = e.<span class="property">nextSibling</span>.<span class="property">nodeValue</span>.<span class="title function_">replaceAll</span>(<span class="string">&quot;\t&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                    value = value.<span class="title function_">replaceAll</span>(<span class="string">&quot;\n&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                    value = value.<span class="title function_">replaceAll</span>(<span class="string">&quot; &quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                    <span class="keyword">if</span>(value==<span class="string">&quot;][&quot;</span>)&#123;</span><br><span class="line">                        e.<span class="property">nextSibling</span>.<span class="title function_">after</span>(<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;br&quot;</span>));</span><br><span class="line">                        e.<span class="property">nextSibling</span>.<span class="title function_">remove</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(value==<span class="string">&quot;]&quot;</span>||e.<span class="property">nextSibling</span>.<span class="property">nodeValue</span>==<span class="string">&quot;]\n\t\t\t\t\n\t\t\t\t&quot;</span>)&#123;</span><br><span class="line">                        e.<span class="property">nextSibling</span>.<span class="title function_">remove</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//reset preset width</span></span><br><span class="line">    <span class="keyword">if</span>($(<span class="string">&quot;#dataList&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        <span class="keyword">let</span> thb = $(<span class="string">&quot;#dataList&quot;</span>)[<span class="number">0</span>].<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;Nsb_r_list_thb&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> length = thb.<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(thb[i-<span class="number">1</span>].<span class="property">style</span>.<span class="property">width</span>!=<span class="string">&#x27;&#x27;</span>)&#123;</span><br><span class="line">                thb[i-<span class="number">1</span>].<span class="property">style</span>.<span class="property">width</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//class schedule random color</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">getRandomIntInclusive</span>(<span class="params">min, max</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="title class_">Math</span>.<span class="title function_">random</span>() * (max - min + <span class="number">1</span>) + min).<span class="title function_">toFixed</span>(<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">randomColorPick</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> json = &#123;&#125;;</span><br><span class="line">        <span class="keyword">let</span> hue = <span class="title function_">getRandomIntInclusive</span>(<span class="number">0</span>,<span class="number">360</span>);</span><br><span class="line">        <span class="keyword">let</span> sat = <span class="title function_">getRandomIntInclusive</span>(<span class="number">90</span>,<span class="number">100</span>);</span><br><span class="line">        <span class="keyword">let</span> light = <span class="title function_">getRandomIntInclusive</span>(<span class="number">40</span>,<span class="number">43</span>);</span><br><span class="line">        <span class="keyword">let</span> hsl = <span class="string">&quot;hsl(&quot;</span> + hue + <span class="string">&quot;, &quot;</span> + sat + <span class="string">&quot;%, &quot;</span> + light + <span class="string">&quot;%)&quot;</span>;</span><br><span class="line">        json.<span class="property">hsl</span>=hsl;</span><br><span class="line">        json.<span class="property">hue</span>=hue;</span><br><span class="line">        json.<span class="property">sat</span>=sat;</span><br><span class="line">        json.<span class="property">light</span>=light;</span><br><span class="line">        <span class="keyword">return</span> json;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fixKBBottom</span>(<span class="params">type</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> td = $(<span class="string">&quot;#kbtable&quot;</span>)[<span class="number">0</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;td&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> length = td.<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">            <span class="keyword">let</span> kbcontent = td[i-<span class="number">1</span>].<span class="title function_">getElementsByClassName</span>(type);</span><br><span class="line">            <span class="keyword">if</span>(kbcontent.<span class="property">length</span>!=<span class="number">0</span>)&#123;</span><br><span class="line">                kbcontent[kbcontent.<span class="property">length</span>-<span class="number">1</span>].<span class="property">style</span>.<span class="property">margin</span> = <span class="string">&quot;0px&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">SimStacked</span>(<span class="params">input</span>)&#123;</span><br><span class="line">        <span class="keyword">switch</span>(input.<span class="title function_">getAttribute</span>(<span class="string">&#x27;stacked&#x27;</span>))&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;true&#x27;</span>:&#123;</span><br><span class="line">                <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                    input.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;hidden&#x27;</span>);</span><br><span class="line">                &#125;, <span class="number">200</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;false&#x27;</span>:&#123;</span><br><span class="line">                input.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;hidden&#x27;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">SimStackActions</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="title class_">SimStack</span> = <span class="variable language_">this</span>.<span class="property">parentElement</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;SimStack&#x27;</span>);</span><br><span class="line">        <span class="keyword">let</span> length = <span class="title class_">SimStack</span>.<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">let</span> tempJson;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="variable language_">this</span>.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">data</span>)&#123;</span><br><span class="line">            tempJson = kbsort[kbsort[<span class="variable language_">this</span>.<span class="property">firstChild</span>.<span class="property">innerHTML</span>]];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            tempJson = kbsort[<span class="variable language_">this</span>.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">data</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> hslDarker = <span class="string">&quot;hsl(&quot;</span> + tempJson.<span class="property">hue</span> + <span class="string">&quot;, &quot;</span> + tempJson.<span class="property">sat</span> + <span class="string">&quot;%, &quot;</span> + (tempJson.<span class="property">light</span> - <span class="number">8</span>) + <span class="string">&quot;%)&quot;</span>;</span><br><span class="line">        <span class="keyword">let</span> hslDarker2 = <span class="string">&quot;hsl(&quot;</span> + tempJson.<span class="property">hue</span> + <span class="string">&quot;, &quot;</span> + tempJson.<span class="property">sat</span> + <span class="string">&quot;%, &quot;</span> + (tempJson.<span class="property">light</span> - <span class="number">16</span>) + <span class="string">&quot;%)&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;stacked&#x27;</span>)==<span class="string">&#x27;true&#x27;</span>)&#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">style</span>.<span class="title function_">removeProperty</span>(<span class="string">&#x27;box-shadow&#x27;</span>);</span><br><span class="line">                <span class="title class_">SimStack</span>[i-<span class="number">1</span>].<span class="title function_">setAttribute</span>(<span class="string">&#x27;stacked&#x27;</span>,<span class="string">&#x27;false&#x27;</span>);</span><br><span class="line">                <span class="title class_">SimStacked</span>(<span class="title class_">SimStack</span>[i-<span class="number">1</span>]);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;stacked&#x27;</span>)==<span class="string">&#x27;false&#x27;</span>)&#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">style</span>.<span class="property">cssText</span> += <span class="string">&quot;box-shadow: 3px 3px 0px 1px &quot;</span>+hslDarker+<span class="string">&quot;, 7px 7px 0px 1px &quot;</span>+hslDarker2;</span><br><span class="line">                <span class="title class_">SimStack</span>[i-<span class="number">1</span>].<span class="title function_">setAttribute</span>(<span class="string">&#x27;stacked&#x27;</span>,<span class="string">&#x27;true&#x27;</span>);</span><br><span class="line">                <span class="title class_">SimStacked</span>(<span class="title class_">SimStack</span>[i-<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i==length)&#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="title class_">SimStack</span>[length-<span class="number">1</span>].<span class="title function_">getAttribute</span>(<span class="string">&#x27;stacked&#x27;</span>)==<span class="string">&#x27;true&#x27;</span>)&#123;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="title function_">setAttribute</span>(<span class="string">&#x27;stacked&#x27;</span>,<span class="string">&#x27;true&#x27;</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="title class_">SimStack</span>[length-<span class="number">1</span>].<span class="title function_">getAttribute</span>(<span class="string">&#x27;stacked&#x27;</span>)==<span class="string">&#x27;false&#x27;</span>)&#123;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="title function_">setAttribute</span>(<span class="string">&#x27;stacked&#x27;</span>,<span class="string">&#x27;false&#x27;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">setupScalingPanel</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> panel = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">        panel.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;SimScalePanel&#x27;</span>);</span><br><span class="line">        <span class="keyword">let</span> text = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">        text.<span class="property">innerText</span> = <span class="string">&quot;缩放倍率&quot;</span>;</span><br><span class="line">        text.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;SimScaleText&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> zoomIn = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;input&#x27;</span>);</span><br><span class="line">        <span class="keyword">let</span> <span class="title class_">SimScaleInput</span> = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;input&#x27;</span>);</span><br><span class="line">        <span class="title class_">SimScaleInput</span>.<span class="property">type</span>=<span class="string">&#x27;text&#x27;</span>;</span><br><span class="line">        <span class="title class_">SimScaleInput</span>.<span class="property">id</span>=<span class="string">&#x27;SimScaleInput&#x27;</span>;</span><br><span class="line">        <span class="title class_">SimScaleInput</span>.<span class="property">className</span> = <span class="string">&#x27;SimScaleInput SimInput&#x27;</span>;</span><br><span class="line">        <span class="title class_">SimScaleInput</span>.<span class="property">value</span>=<span class="string">&#x27;0.8&#x27;</span>;</span><br><span class="line">        <span class="title class_">SimScaleInput</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;change&quot;</span>, valueSync);</span><br><span class="line">        $(<span class="string">&quot;#kbtable&quot;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;transform&#x27;</span>,<span class="string">&#x27;scale(0.8)&#x27;</span>);</span><br><span class="line">        $(<span class="string">&quot;#kbtable&quot;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;transition&#x27;</span>,<span class="string">&#x27;transform 0.4s cubic-bezier(0, 0, 0.22, 0.9)&#x27;</span>);</span><br><span class="line">        zoomIn.<span class="property">type</span>=<span class="string">&#x27;button&#x27;</span>;</span><br><span class="line">        zoomIn.<span class="property">className</span> = <span class="string">&#x27;button SimScale&#x27;</span>;</span><br><span class="line">        <span class="keyword">let</span> zoomOut = zoomIn.<span class="title function_">cloneNode</span>(<span class="literal">false</span>);</span><br><span class="line">        zoomIn.<span class="property">value</span>=<span class="string">&#x27;+&#x27;</span>;</span><br><span class="line">        zoomIn.<span class="property">id</span>=<span class="string">&#x27;zoomIn&#x27;</span>;</span><br><span class="line">        zoomOut.<span class="property">value</span>=<span class="string">&#x27;–&#x27;</span>;</span><br><span class="line">        zoomOut.<span class="property">id</span>=<span class="string">&#x27;zoomOut&#x27;</span>;</span><br><span class="line">        zoomIn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">SimScale</span>);</span><br><span class="line">        zoomOut.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">SimScale</span>);</span><br><span class="line">        panel.<span class="title function_">appendChild</span>(text);</span><br><span class="line">        panel.<span class="title function_">appendChild</span>(zoomOut);</span><br><span class="line">        panel.<span class="title function_">appendChild</span>(<span class="title class_">SimScaleInput</span>);</span><br><span class="line">        panel.<span class="title function_">appendChild</span>(zoomIn);</span><br><span class="line">        <span class="keyword">if</span>(!$(<span class="string">&quot;.Nsb_layout_r&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">            $(<span class="string">&quot;#kbtable&quot;</span>)[<span class="number">0</span>].<span class="property">parentElement</span>.<span class="title function_">appendChild</span>(panel);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            panel.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;rightPage&quot;</span>);</span><br><span class="line">            $(<span class="string">&quot;#kbtable&quot;</span>)[<span class="number">0</span>].<span class="title function_">before</span>(panel);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">universalScaleCtrl</span>(<span class="params">zoomData</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(zoomData&lt;<span class="number">0.6</span>)&#123;</span><br><span class="line">            zoomData = <span class="number">0.5</span>;</span><br><span class="line">            $(<span class="string">&quot;#zoomIn&quot;</span>)[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;disabled&#x27;</span>);</span><br><span class="line">            $(<span class="string">&quot;#zoomIn&quot;</span>)[<span class="number">0</span>].<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">SimScale</span>);</span><br><span class="line">            $(<span class="string">&quot;#zoomOut&quot;</span>)[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;disabled&#x27;</span>);</span><br><span class="line">            $(<span class="string">&quot;#zoomOut&quot;</span>)[<span class="number">0</span>].<span class="title function_">removeEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">SimScale</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(zoomData&gt;<span class="number">0.9</span>)&#123;</span><br><span class="line">            zoomData = <span class="number">1.0</span>;</span><br><span class="line">            $(<span class="string">&quot;#zoomOut&quot;</span>)[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;disabled&#x27;</span>);</span><br><span class="line">            $(<span class="string">&quot;#zoomOut&quot;</span>)[<span class="number">0</span>].<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">SimScale</span>);</span><br><span class="line">            $(<span class="string">&quot;#zoomIn&quot;</span>)[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;disabled&#x27;</span>);</span><br><span class="line">            $(<span class="string">&quot;#zoomIn&quot;</span>)[<span class="number">0</span>].<span class="title function_">removeEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">SimScale</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            $(<span class="string">&quot;#zoomIn&quot;</span>)[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;disabled&#x27;</span>);</span><br><span class="line">            $(<span class="string">&quot;#zoomOut&quot;</span>)[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;disabled&#x27;</span>);</span><br><span class="line">            $(<span class="string">&quot;#zoomIn&quot;</span>)[<span class="number">0</span>].<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">SimScale</span>);</span><br><span class="line">            $(<span class="string">&quot;#zoomOut&quot;</span>)[<span class="number">0</span>].<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">SimScale</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        zoomData = zoomData.<span class="title function_">toFixed</span>(<span class="number">1</span>);</span><br><span class="line">        $(<span class="string">&quot;#SimScaleInput&quot;</span>)[<span class="number">0</span>].<span class="property">value</span> = zoomData;</span><br><span class="line">        $(<span class="string">&quot;#kbtable&quot;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;transform&#x27;</span>,<span class="string">&#x27;scale(&#x27;</span>+zoomData+<span class="string">&#x27;)&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span>(!$(<span class="string">&quot;.Nsb_layout_r&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">            <span class="keyword">let</span> bodyStyle = $(<span class="string">&quot;#kbtable&quot;</span>)[<span class="number">0</span>].<span class="property">parentElement</span>.<span class="property">style</span>;</span><br><span class="line">            <span class="keyword">if</span>(bodyStyle.<span class="property">length</span>==<span class="number">1</span>)&#123;</span><br><span class="line">                bodyStyle.<span class="title function_">removeProperty</span>(<span class="string">&#x27;width&#x27;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                bodyStyle.<span class="title function_">setProperty</span>(<span class="string">&quot;width&quot;</span>,<span class="string">&quot;100%&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">valueSync</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> zoomData = <span class="variable language_">this</span>.<span class="property">value</span>;</span><br><span class="line">        <span class="keyword">let</span> zoomValue = <span class="built_in">parseFloat</span>(zoomData);</span><br><span class="line">        <span class="title function_">universalScaleCtrl</span>(zoomValue);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">SimScale</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> zoomData = $(<span class="string">&quot;#SimScaleInput&quot;</span>)[<span class="number">0</span>].<span class="property">value</span>;</span><br><span class="line">        <span class="keyword">let</span> zoomValue = <span class="built_in">parseFloat</span>(zoomData);</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">value</span>==<span class="string">&#x27;+&#x27;</span>)&#123;</span><br><span class="line">            zoomData = zoomValue+<span class="number">0.1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">value</span>==<span class="string">&#x27;–&#x27;</span>)&#123;</span><br><span class="line">            zoomData = zoomValue-<span class="number">0.1</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">value</span>=<span class="string">&#x27;–&#x27;</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">id</span>=<span class="string">&#x27;zoomOut&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">universalScaleCtrl</span>(zoomData);</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">if</span>($(<span class="string">&quot;.kbcontent1&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        <span class="keyword">let</span> kbcontent,kbcontent1;</span><br><span class="line">        <span class="keyword">var</span> kbsort = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line">        <span class="keyword">if</span>(!$(<span class="string">&quot;.Nsb_layout_r&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">            <span class="keyword">let</span> classLists_eg = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">            classLists_eg.<span class="property">className</span> = <span class="string">&quot;classLists&quot;</span>;</span><br><span class="line">            <span class="keyword">let</span> classLists,tempJson,hslDarker;</span><br><span class="line">            <span class="keyword">let</span> tr = $(<span class="string">&quot;#kbtable&quot;</span>)[<span class="number">0</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;tr&quot;</span>);</span><br><span class="line">            <span class="keyword">let</span> th = tr[<span class="number">0</span>].<span class="property">children</span>;</span><br><span class="line">            <span class="keyword">let</span> length = th.<span class="property">length</span>;</span><br><span class="line">            <span class="keyword">let</span> tr_length = tr.<span class="property">length</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(th[i-<span class="number">1</span>].<span class="property">colSpan</span>==<span class="number">7</span>)&#123;</span><br><span class="line">                    th[i-<span class="number">1</span>].<span class="property">colSpan</span> = <span class="number">6</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">let</span> td = tr[<span class="number">1</span>].<span class="property">children</span>;</span><br><span class="line">            length = td.<span class="property">length</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(td[i-<span class="number">1</span>].<span class="property">innerHTML</span>==<span class="string">&#x27;13&#x27;</span>)&#123;</span><br><span class="line">                    length--;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">let</span> o=<span class="number">2</span>;o&lt;=tr_length;o++)&#123;</span><br><span class="line">                        tr[o-<span class="number">1</span>].<span class="property">children</span>[i-<span class="number">1</span>].<span class="title function_">remove</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            length = $(<span class="string">&quot;.kbcontent1&quot;</span>).<span class="property">length</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">                classLists = classLists_eg.<span class="title function_">cloneNode</span>(<span class="literal">true</span>);</span><br><span class="line">                kbcontent1 = $(<span class="string">&quot;.kbcontent1&quot;</span>)[i-<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span>(!kbsort[kbcontent1.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">data</span>])&#123;</span><br><span class="line">                    kbsort[kbcontent1.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">data</span>] = <span class="title function_">randomColorPick</span>();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">let</span> kbc1Children = kbcontent1.<span class="property">parentElement</span>.<span class="property">children</span>;</span><br><span class="line">                <span class="keyword">if</span>(kbcontent1 == kbc1Children[<span class="number">0</span>])&#123;</span><br><span class="line">                    <span class="keyword">let</span> similarity = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">let</span> similarClass,initalIndex;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">let</span> o=<span class="number">1</span>;o&lt;kbc1Children.<span class="property">length</span>;o++)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(kbc1Children[o-<span class="number">1</span>].<span class="property">firstChild</span>.<span class="property">data</span>==kbc1Children[o].<span class="property">firstChild</span>.<span class="property">data</span>&amp;&amp;kbc1Children[o-<span class="number">1</span>].<span class="property">childNodes</span>[<span class="number">2</span>].<span class="property">data</span>.<span class="title function_">slice</span>(kbc1Children[o-<span class="number">1</span>].<span class="property">childNodes</span>[<span class="number">2</span>].<span class="property">data</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;(&quot;</span>))==kbc1Children[o].<span class="property">childNodes</span>[<span class="number">2</span>].<span class="property">data</span>.<span class="title function_">slice</span>(<span class="params">kbc1Children[o].childNodes[<span class="number">2</span>].data.lastIndexOf(<span class="string">&quot;(&quot;</span>)</span>))&#123;</span><br><span class="line">                            <span class="keyword">if</span>(similarity==<span class="number">0</span>)&#123;</span><br><span class="line">                                similarClass = kbc1Children[o-<span class="number">1</span>].<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">data</span>;</span><br><span class="line">                                initalIndex = o-<span class="number">1</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            similarity++;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(similarity&gt;<span class="number">4</span>)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(!kbsort[kbc1Children[initalIndex].<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">data</span>])&#123;</span><br><span class="line">                            kbsort[kbc1Children[initalIndex].<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">data</span>] = <span class="title function_">randomColorPick</span>();</span><br><span class="line">                        &#125;</span><br><span class="line">                        tempJson = kbsort[kbc1Children[initalIndex].<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">data</span>];</span><br><span class="line">                        kbc1Children[initalIndex].<span class="property">id</span> = <span class="string">&quot;SimStackTop&quot;</span>;</span><br><span class="line">                        hslDarker = <span class="string">&quot;hsl(&quot;</span> + tempJson.<span class="property">hue</span> + <span class="string">&quot;, &quot;</span> + tempJson.<span class="property">sat</span> + <span class="string">&quot;%, &quot;</span> + (tempJson.<span class="property">light</span> - <span class="number">8</span>) + <span class="string">&quot;%)&quot;</span>;</span><br><span class="line">                        <span class="keyword">let</span> hslDarker2 = <span class="string">&quot;hsl(&quot;</span> + tempJson.<span class="property">hue</span> + <span class="string">&quot;, &quot;</span> + tempJson.<span class="property">sat</span> + <span class="string">&quot;%, &quot;</span> + (tempJson.<span class="property">light</span> - <span class="number">16</span>) + <span class="string">&quot;%)&quot;</span>;</span><br><span class="line">                        <span class="keyword">for</span>(<span class="keyword">let</span> o=initalIndex+<span class="number">2</span>;o&lt;=kbc1Children.<span class="property">length</span>;o++)&#123;</span><br><span class="line">                            <span class="keyword">if</span>(similarClass==kbc1Children[o-<span class="number">1</span>].<span class="property">firstChild</span>.<span class="property">data</span>)&#123;</span><br><span class="line">                                kbc1Children[o-<span class="number">1</span>].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;SimStack&#x27;</span>);</span><br><span class="line">                                kbc1Children[o-<span class="number">1</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;stacked&quot;</span>,<span class="string">&quot;true&quot;</span>);</span><br><span class="line">                                <span class="title class_">SimStacked</span>(kbc1Children[o-<span class="number">1</span>]);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        kbc1Children[initalIndex].<span class="title function_">setAttribute</span>(<span class="string">&quot;stacked&quot;</span>,<span class="string">&quot;true&quot;</span>);</span><br><span class="line">                        kbc1Children[initalIndex].<span class="property">style</span>.<span class="property">cssText</span> += <span class="string">&quot;box-shadow: 3px 3px 0px 1px &quot;</span>+hslDarker+<span class="string">&quot;, 7px 7px 0px 1px &quot;</span>+hslDarker2;</span><br><span class="line">                        kbc1Children[initalIndex].<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">SimStackActions</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                tempJson = kbsort[kbcontent1.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">data</span>];</span><br><span class="line">                <span class="keyword">let</span> tempData = kbcontent1.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">data</span>;</span><br><span class="line">                <span class="keyword">if</span>(kbcontent1.<span class="property">lastChild</span>.<span class="property">data</span>.<span class="title function_">search</span>(<span class="string">&quot;,&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    classLists.<span class="property">innerHTML</span> = kbcontent1.<span class="property">lastChild</span>.<span class="property">data</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(kbcontent1.<span class="property">firstChild</span>.<span class="property">data</span>.<span class="title function_">search</span>(<span class="string">&quot;,&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    classLists.<span class="property">innerHTML</span> = kbcontent1.<span class="property">firstChild</span>.<span class="property">data</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(kbcontent1.<span class="property">childNodes</span>[<span class="number">2</span>].<span class="property">data</span>.<span class="title function_">search</span>(<span class="string">&quot;,&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    classLists.<span class="property">innerHTML</span> = kbcontent1.<span class="property">childNodes</span>[<span class="number">2</span>].<span class="property">data</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(classLists.<span class="property">innerHTML</span>.<span class="title function_">search</span>(<span class="string">&quot;,&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(classLists.<span class="property">innerHTML</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;,&quot;</span>)&gt;classLists.<span class="property">innerHTML</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;(&quot;</span>)&amp;&amp;classLists.<span class="property">innerHTML</span>.<span class="title function_">slice</span>(classLists.<span class="property">innerHTML</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;,&quot;</span>),classLists.<span class="property">innerHTML</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;,&quot;</span>)+<span class="number">1</span>).<span class="title function_">indexOf</span>(<span class="string">&quot;)&quot;</span>)==-<span class="number">1</span>)&#123;</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        <span class="keyword">if</span>(classLists.<span class="property">innerHTML</span>.<span class="title function_">slice</span>(<span class="params"><span class="number">0</span>,classLists.innerHTML.lastIndexOf(<span class="string">&quot;(&quot;</span>)</span>).<span class="title function_">search</span>(<span class="regexp">/[0-9]/</span>)==-<span class="number">1</span>)&#123;</span><br><span class="line">                            classLists.<span class="property">className</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">                        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                            <span class="keyword">if</span>(classLists.<span class="property">innerHTML</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;,&quot;</span>)&gt;classLists.<span class="property">innerHTML</span>.<span class="title function_">lastIndexOf</span>(<span class="params"><span class="string">&quot;(&quot;</span></span>))&#123;</span><br><span class="line">                                <span class="keyword">let</span> replaced = classLists.<span class="property">innerHTML</span>.<span class="title function_">slice</span>(<span class="number">0</span>,classLists.<span class="property">innerHTML</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;(&quot;</span>)).<span class="title function_">replaceAll</span>(<span class="string">&quot;,&quot;</span>,<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">                                replaced += classLists.<span class="property">innerHTML</span>.<span class="title function_">slice</span>(classLists.<span class="property">innerHTML</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;(&quot;</span>));</span><br><span class="line">                                classLists.<span class="property">innerHTML</span> = replaced;</span><br><span class="line">                            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                                classLists.<span class="property">innerHTML</span> = classLists.<span class="property">innerHTML</span>.<span class="title function_">replaceAll</span>(<span class="string">&quot;,&quot;</span>,<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">                            &#125;</span><br><span class="line">                            hslDarker = <span class="string">&quot;hsl(&quot;</span> + tempJson.<span class="property">hue</span> + <span class="string">&quot;, &quot;</span> + tempJson.<span class="property">sat</span> + <span class="string">&quot;%, &quot;</span> + (tempJson.<span class="property">light</span> - <span class="number">10</span>) + <span class="string">&quot;%)&quot;</span>;</span><br><span class="line">                            classLists.<span class="property">style</span> = <span class="string">&quot; background-color:&quot;</span>+hslDarker;</span><br><span class="line">                        &#125;</span><br><span class="line">                      &#125;</span><br><span class="line">                   &#125;</span><br><span class="line">                <span class="keyword">if</span>(kbcontent1.<span class="property">lastChild</span>.<span class="property">data</span>.<span class="title function_">search</span>(<span class="string">&quot;,&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    kbcontent1.<span class="property">lastChild</span>.<span class="title function_">remove</span>();</span><br><span class="line">                    kbcontent1.<span class="property">lastChild</span>.<span class="title function_">after</span>(classLists);</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(kbcontent1.<span class="property">firstChild</span>.<span class="property">data</span>.<span class="title function_">search</span>(<span class="string">&quot;,&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    kbcontent1.<span class="property">firstChild</span>.<span class="title function_">remove</span>();</span><br><span class="line">                    kbcontent1.<span class="property">firstChild</span>.<span class="title function_">before</span>(classLists);</span><br><span class="line">                    classLists.<span class="property">nextSibling</span>.<span class="title function_">remove</span>();</span><br><span class="line">                    kbsort[kbcontent1.<span class="property">firstChild</span>.<span class="property">innerHTML</span>]=tempData;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(kbcontent1.<span class="property">childNodes</span>[<span class="number">2</span>].<span class="property">data</span>.<span class="title function_">search</span>(<span class="string">&quot;,&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    kbcontent1.<span class="property">childNodes</span>[<span class="number">2</span>].<span class="title function_">remove</span>();</span><br><span class="line">                    kbcontent1.<span class="property">childNodes</span>[<span class="number">2</span>].<span class="title function_">before</span>(classLists);</span><br><span class="line">                    classLists.<span class="property">nextSibling</span>.<span class="title function_">remove</span>();</span><br><span class="line">                &#125;</span><br><span class="line">                kbcontent1.<span class="property">style</span>.<span class="property">cssText</span> += <span class="string">&quot;background-color:&quot;</span>+tempJson.<span class="property">hsl</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_">fixKBBottom</span>(<span class="string">&quot;kbcontent1&quot;</span>);</span><br><span class="line">            <span class="title function_">setupScalingPanel</span>();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//remove zoom button and text</span></span><br><span class="line">            $(<span class="string">&quot;#sfFD&quot;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            $(<span class="string">&quot;#xnxq01id&quot;</span>)[<span class="number">0</span>].<span class="property">parentElement</span>.<span class="property">lastChild</span>.<span class="title function_">remove</span>();</span><br><span class="line">            <span class="keyword">let</span> kblength = $(<span class="string">&quot;.kbcontent&quot;</span>).<span class="property">length</span>;</span><br><span class="line">            <span class="keyword">let</span> length = $(<span class="string">&quot;.kbcontent1&quot;</span>).<span class="property">length</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">                kbcontent1 = $(<span class="string">&quot;.kbcontent1&quot;</span>)[i-<span class="number">1</span>];</span><br><span class="line">                kbcontent1.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=kblength;i++)&#123;</span><br><span class="line">                <span class="keyword">let</span> childNodes;</span><br><span class="line">                kbcontent = $(<span class="string">&quot;.kbcontent&quot;</span>)[i-<span class="number">1</span>];</span><br><span class="line">                childNodes = kbcontent.<span class="property">childNodes</span>;</span><br><span class="line">                length = childNodes.<span class="property">length</span>;</span><br><span class="line">                <span class="keyword">let</span> kbdiv_eg = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">                kbdiv_eg.<span class="property">className</span> = <span class="string">&quot;kbcontent&quot;</span>;</span><br><span class="line">                kbdiv_eg.<span class="property">id</span> = <span class="string">&quot;SimKB&quot;</span>;</span><br><span class="line">                <span class="keyword">let</span> kbdiv;</span><br><span class="line">                <span class="keyword">function</span> <span class="title function_">cut_judge</span>(<span class="params">node</span>)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(node.<span class="property">nodeName</span> != <span class="string">&#x27;BR&#x27;</span>)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(node.<span class="property">data</span>==<span class="string">&#x27;---------------------&#x27;</span>)&#123;</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">function</span> <span class="title function_">append_kbdiv</span>(<span class="params"></span>)&#123;</span><br><span class="line">                    kbdiv.<span class="property">firstChild</span>.<span class="title function_">remove</span>();</span><br><span class="line">                    kbcontent.<span class="property">parentElement</span>.<span class="title function_">appendChild</span>(kbdiv);</span><br><span class="line">                    kblength++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(kbcontent.<span class="property">innerHTML</span>==<span class="string">&#x27;&amp;nbsp;&#x27;</span>)&#123;</span><br><span class="line">                    kbcontent.<span class="property">style</span>.<span class="property">visibility</span> = <span class="string">&quot;hidden&quot;</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(!kbsort[kbcontent.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">data</span>])&#123;</span><br><span class="line">                    kbsort[kbcontent.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">data</span>] = <span class="title function_">randomColorPick</span>().<span class="property">hsl</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                kbcontent.<span class="property">style</span>.<span class="property">background</span> = kbsort[kbcontent.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">data</span>];</span><br><span class="line">                <span class="keyword">if</span>(kbcontent.<span class="property">id</span> != <span class="string">&#x27;SimKB&#x27;</span>&amp;&amp;kbcontent.<span class="property">innerHTML</span>!=<span class="string">&#x27;&amp;nbsp;&#x27;</span>)&#123;</span><br><span class="line">                    <span class="keyword">let</span> cut_times = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">let</span> o=<span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">while</span>(o&lt;length-<span class="number">1</span>)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(<span class="title function_">cut_judge</span>(childNodes[o])==<span class="literal">true</span>)&#123;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        o++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">while</span>(o&lt;length-<span class="number">1</span>)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(<span class="title function_">cut_judge</span>(childNodes[o])==<span class="literal">true</span>)&#123;</span><br><span class="line">                            <span class="keyword">if</span>(cut_times!=<span class="number">0</span>)&#123;</span><br><span class="line">                                <span class="title function_">append_kbdiv</span>();</span><br><span class="line">                            &#125;</span><br><span class="line">                            kbdiv = kbdiv_eg.<span class="title function_">cloneNode</span>(<span class="literal">true</span>);</span><br><span class="line">                            childNodes[o].<span class="title function_">remove</span>();</span><br><span class="line">                            length--;</span><br><span class="line">                            cut_times++;</span><br><span class="line">                        &#125;</span><br><span class="line">                        kbdiv.<span class="title function_">appendChild</span>(childNodes[o]);</span><br><span class="line">                        length--;</span><br><span class="line">                        <span class="keyword">if</span>(o==length-<span class="number">1</span>)&#123;</span><br><span class="line">                            <span class="title function_">append_kbdiv</span>();</span><br><span class="line">                            kbcontent.<span class="property">lastChild</span>.<span class="title function_">remove</span>();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">let</span> th,second,fourth,noon,evening;</span><br><span class="line">            length = $(<span class="string">&quot;th&quot;</span>).<span class="property">length</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">                th = $(<span class="string">&quot;th&quot;</span>)[i-<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span>(th.<span class="property">innerHTML</span>.<span class="title function_">search</span>(<span class="string">&quot;&amp;nbsp;&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    th.<span class="property">innerHTML</span> = th.<span class="property">innerHTML</span>.<span class="title function_">replace</span>(<span class="string">&quot;&amp;nbsp;&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(th.<span class="property">innerHTML</span>.<span class="title function_">search</span>(<span class="string">&quot;第二大节&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    second = th.<span class="property">parentElement</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(th.<span class="property">innerHTML</span>.<span class="title function_">search</span>(<span class="string">&quot;中午&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    th.<span class="property">innerHTML</span> = th.<span class="property">innerHTML</span>.<span class="title function_">replace</span>(<span class="string">&quot;中午&quot;</span>,<span class="string">&quot;晚间&quot;</span>);</span><br><span class="line">                    th.<span class="property">style</span>.<span class="property">padding</span> = <span class="string">&#x27;0px&#x27;</span>;</span><br><span class="line">                    noon = th.<span class="property">parentElement</span>;</span><br><span class="line">                    noon.<span class="property">style</span>.<span class="property">background</span> = <span class="string">&quot;#599FFE&quot;</span>;</span><br><span class="line">                    evening = noon.<span class="title function_">cloneNode</span>(<span class="literal">true</span>);</span><br><span class="line">                    th.<span class="property">innerHTML</span> = th.<span class="property">innerHTML</span>.<span class="title function_">replace</span>(<span class="string">&quot;晚间&quot;</span>,<span class="string">&quot;午间&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(th.<span class="property">innerHTML</span>.<span class="title function_">search</span>(<span class="string">&quot;第四大节&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    fourth = th.<span class="property">parentElement</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(th.<span class="property">innerHTML</span>.<span class="title function_">search</span>(<span class="string">&quot;备注:&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    th.<span class="property">innerHTML</span> = th.<span class="property">innerHTML</span>.<span class="title function_">replace</span>(<span class="string">&quot;:&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                    th.<span class="property">style</span>.<span class="property">padding</span> = <span class="string">&#x27;0px&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(i==length)&#123;</span><br><span class="line">                    fourth.<span class="title function_">after</span>(evening);</span><br><span class="line">                    second.<span class="title function_">after</span>(noon);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_">fixKBBottom</span>(<span class="string">&quot;kbcontent&quot;</span>);</span><br><span class="line">            <span class="title function_">setupScalingPanel</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="comment">//change sub page title</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;Nsb_r_title&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        <span class="keyword">let</span> title = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;Nsb_r_title&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">if</span>(title.<span class="property">innerText</span>.<span class="title function_">search</span>(<span class="string">&quot;&gt;&gt;&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">            title.<span class="property">innerHTML</span> = title.<span class="property">innerText</span>.<span class="title function_">slice</span>(title.<span class="property">innerText</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;&gt;&gt;&quot;</span>)+<span class="number">2</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            title.<span class="property">innerHTML</span> = title.<span class="property">innerText</span>.<span class="title function_">slice</span>(title.<span class="property">innerText</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;» &quot;</span>)+<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;Nsb_r_title&quot;</span>)[<span class="number">0</span>].<span class="property">previousElementSibling</span>)&#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;Nsb_r_title&quot;</span>)[<span class="number">0</span>].<span class="property">previousElementSibling</span>.<span class="title function_">remove</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>($(<span class="string">&quot;.Nsb_layout_r&quot;</span>)[<span class="number">0</span>]&amp;&amp;!$(<span class="string">&quot;.Nsb_l_list_now&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        <span class="keyword">let</span> length = $(<span class="string">&quot;a[href]&quot;</span>).<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>($(<span class="string">&quot;a[href]&quot;</span>)[i-<span class="number">1</span>].<span class="property">innerText</span> == $(<span class="string">&quot;.Nsb_r_title&quot;</span>)[<span class="number">0</span>].<span class="property">innerText</span>)&#123;</span><br><span class="line">                $(<span class="string">&quot;a[href]&quot;</span>)[i-<span class="number">1</span>].<span class="property">className</span> += <span class="string">&quot; Nsb_l_list_now&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>($(<span class="string">&quot;.Nsb_layout_l&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        <span class="keyword">if</span>($(<span class="string">&quot;.Nsb_layout_l&quot;</span>)[<span class="number">0</span>].<span class="property">childElementCount</span> &lt;=<span class="number">1</span>)&#123;</span><br><span class="line">            $(<span class="string">&quot;.Nsb_layout_l&quot;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">            <span class="comment">//main page info fix</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;Nsb_pw&quot;</span>)[<span class="number">2</span>]&amp;&amp;<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn_back&quot;</span>))&#123;</span><br><span class="line">        <span class="keyword">let</span> childNodes = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;Nsb_pw&quot;</span>)[<span class="number">2</span>].<span class="property">childNodes</span>;</span><br><span class="line">        <span class="keyword">let</span> length = childNodes.<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">let</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">        div.<span class="property">id</span> = <span class="string">&quot;SimInfo&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">5</span>;i&lt;=length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(childNodes[i-<span class="number">2</span>].<span class="property">nodeName</span> == <span class="string">&#x27;BR&#x27;</span>&amp;&amp;childNodes[i].<span class="property">nodeName</span> == <span class="string">&#x27;BR&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">let</span> line1 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">                line1.<span class="property">innerHTML</span> = childNodes[i-<span class="number">1</span>].<span class="property">data</span>;</span><br><span class="line">                div.<span class="title function_">appendChild</span>(line1);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>((childNodes[i-<span class="number">2</span>].<span class="property">nodeName</span> == <span class="string">&#x27;BR&#x27;</span>&amp;&amp;childNodes[i].<span class="property">nodeName</span> == <span class="string">&#x27;SPAN&#x27;</span>)||(childNodes[i-<span class="number">2</span>].<span class="property">nodeName</span> == <span class="string">&#x27;SPAN&#x27;</span>&amp;&amp;childNodes[i].<span class="property">nodeName</span> == <span class="string">&#x27;SPAN&#x27;</span>))&#123;</span><br><span class="line">                div.<span class="property">innerHTML</span> += childNodes[i-<span class="number">1</span>].<span class="property">data</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(childNodes[i-<span class="number">1</span>].<span class="property">nodeName</span> == <span class="string">&#x27;SPAN&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">let</span> span = childNodes[i-<span class="number">1</span>].<span class="title function_">cloneNode</span>(<span class="literal">true</span>);</span><br><span class="line">                div.<span class="title function_">appendChild</span>(span);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn_back&quot;</span>).<span class="title function_">after</span>(div);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>((childNodes[i-<span class="number">1</span>].<span class="property">nodeName</span> == <span class="string">&#x27;BR&#x27;</span>||childNodes[i-<span class="number">1</span>].<span class="property">nodeName</span> == <span class="string">&#x27;#text&#x27;</span>||childNodes[i-<span class="number">1</span>].<span class="property">nodeName</span> == <span class="string">&#x27;SPAN&#x27;</span>)&amp;&amp;(childNodes[i-<span class="number">1</span>].<span class="property">parentElement</span>.<span class="property">id</span>!=<span class="string">&quot;SimInfo&quot;</span>))&#123;</span><br><span class="line">                childNodes[i-<span class="number">1</span>].<span class="title function_">remove</span>();</span><br><span class="line">                i-=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            length = childNodes.<span class="property">length</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//fix pattern</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;button&quot;</span>).<span class="title function_">namedItem</span>(<span class="string">&quot;selectJg0101JS&quot;</span>))&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;button&quot;</span>).<span class="title function_">namedItem</span>(<span class="string">&quot;selectJg0101JS&quot;</span>).<span class="property">parentElement</span>.<span class="property">style</span> = <span class="string">&quot;display: inline-flex;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;button2&quot;</span>)&amp;&amp;!<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;button1&quot;</span>))&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;button2&quot;</span>).<span class="property">style</span> = <span class="string">&quot;left:0;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//button input difference &amp; disabled things marker</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;input&quot;</span>).<span class="property">length</span>&gt;<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> input = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;input&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> length = input.<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">           <span class="keyword">if</span>((input[i-<span class="number">1</span>].<span class="property">type</span> == <span class="string">&quot;text&quot;</span>||input[i-<span class="number">1</span>].<span class="property">type</span> == <span class="string">&quot;password&quot;</span>)&amp;&amp;input[i-<span class="number">1</span>].<span class="property">parentElement</span>.<span class="property">tagName</span>==<span class="string">&quot;TD&quot;</span>)&#123;</span><br><span class="line">                input[i-<span class="number">1</span>].<span class="property">className</span> += <span class="string">&quot; SimInput&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//marker for disabled input</span></span><br><span class="line">            <span class="keyword">if</span>(input[i-<span class="number">1</span>].<span class="property">disabled</span> == <span class="literal">true</span>)&#123;</span><br><span class="line">                input[i-<span class="number">1</span>].<span class="property">className</span> += <span class="string">&quot; disabled&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//select</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;select&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        <span class="keyword">let</span> select = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;select&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> length = select.<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">            select[i-<span class="number">1</span>].<span class="property">className</span> = <span class="string">&quot;SimSelect&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;button&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        <span class="keyword">let</span> button = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;button&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(button[<span class="number">0</span>].<span class="property">attributes</span>.<span class="property">onclick</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>((button[<span class="number">0</span>].<span class="property">attributes</span>.<span class="property">onclick</span>.<span class="property">value</span>.<span class="title function_">includes</span>(<span class="string">&quot;JsMod&quot;</span>))&amp;&amp;(button.<span class="property">length</span>==<span class="number">1</span>))&#123;</span><br><span class="line">                button[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;centerButton&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="comment">//Slim select</span></span><br><span class="line">    <span class="keyword">if</span>($(<span class="string">&quot;form&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        <span class="keyword">if</span>($(<span class="string">&quot;form&quot;</span>)[<span class="number">0</span>].<span class="property">action</span>==<span class="string">&quot;http://jw.wbu.edu.cn/jsxsd/kbxx/jsjy_query2&quot;</span>)&#123;</span><br><span class="line">            <span class="keyword">let</span> select = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;select&quot;</span>);</span><br><span class="line">            <span class="keyword">let</span> length = select.<span class="property">length</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">                select[i-<span class="number">1</span>].<span class="property">className</span> += <span class="string">&quot; Slim&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">let</span> input = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;input&quot;</span>);</span><br><span class="line">            length = input.<span class="property">length</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(input[i-<span class="number">1</span>].<span class="property">type</span> == <span class="string">&quot;text&quot;</span>||input[i-<span class="number">1</span>].<span class="property">type</span> == <span class="string">&quot;password&quot;</span>&amp;&amp;input[i-<span class="number">1</span>].<span class="property">parentElement</span>.<span class="property">tagName</span>==<span class="string">&quot;TD&quot;</span>)&#123;</span><br><span class="line">                    input[i-<span class="number">1</span>].<span class="property">className</span> += <span class="string">&quot; Slim&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//SimPage</span></span><br><span class="line">    <span class="comment">//patch an added blank page</span></span><br><span class="line">        <span class="keyword">let</span> script = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> length = script.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(script[i-<span class="number">1</span>].<span class="property">innerHTML</span>.<span class="title function_">search</span>(<span class="string">&quot;window.close()&quot;</span>) != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="title function_">closeIframe</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!$(<span class="string">&quot;head&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">parent</span>.$(<span class="string">&quot;#fcenter&quot;</span>)[<span class="number">0</span>].<span class="title function_">remove</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//SimPage iframe</span></span><br><span class="line">    <span class="keyword">if</span>($(<span class="string">&quot;.toolbar&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        $(<span class="string">&quot;.toolbar&quot;</span>)[<span class="number">0</span>].<span class="title function_">remove</span>();</span><br><span class="line">        <span class="keyword">if</span>($(<span class="string">&quot;textarea&quot;</span>).<span class="property">length</span>&lt;<span class="number">2</span>&amp;&amp;$(<span class="string">&quot;textarea&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">            $(<span class="string">&quot;table&quot;</span>)[<span class="number">0</span>].<span class="property">className</span> = <span class="string">&quot;textform&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.toolstitle&quot;</span>))&#123;</span><br><span class="line">        <span class="title function_">waitForLoading</span>(<span class="string">&quot;.button&quot;</span>).<span class="title function_">then</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> button = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.button&quot;</span>);</span><br><span class="line">            button.<span class="title function_">forEach</span>(<span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(e.<span class="property">attributes</span>.<span class="property">onclick</span>.<span class="property">value</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;window.close()&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    e.<span class="property">attributes</span>.<span class="title function_">removeNamedItem</span>(<span class="string">&quot;onclick&quot;</span>);</span><br><span class="line">                    e.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, closeIframe);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">waitForLoading</span>(<span class="params">targetSelector</span>)&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(targetSelector)) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//setup homepage icons</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;block1&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        <span class="keyword">let</span> icon1 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> icon2 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> icon3 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> icon4 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> icon5 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> icon6 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> icon7 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> icon8 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> icon9 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> icon10 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> icon11 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> icon12 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        icon1.<span class="property">className</span> = <span class="string">&quot;iconfont icon-yonghu&quot;</span>;</span><br><span class="line">        icon2.<span class="property">className</span> = <span class="string">&quot;iconfont icon-xuanke&quot;</span>;</span><br><span class="line">        icon3.<span class="property">className</span> = <span class="string">&quot;iconfont icon-pingjiao&quot;</span>;</span><br><span class="line">        icon4.<span class="property">className</span> = <span class="string">&quot;iconfont icon-jiejuefangan&quot;</span>;</span><br><span class="line">        icon5.<span class="property">className</span> = <span class="string">&quot;iconfont icon-icon-test&quot;</span>;</span><br><span class="line">        icon6.<span class="property">className</span> = <span class="string">&quot;iconfont icon-gonggao-xianxing&quot;</span>;</span><br><span class="line">        icon7.<span class="property">className</span> = <span class="string">&quot;iconfont icon-chengji&quot;</span>;</span><br><span class="line">        icon8.<span class="property">className</span> = <span class="string">&quot;iconfont icon-rili&quot;</span>;</span><br><span class="line">        icon9.<span class="property">className</span> = <span class="string">&quot;iconfont icon-jihua&quot;</span>;</span><br><span class="line">        icon10.<span class="property">className</span> = <span class="string">&quot;iconfont icon-chengji&quot;</span>;</span><br><span class="line">        icon11.<span class="property">className</span> = <span class="string">&quot;iconfont icon-xuejiyidongguanli&quot;</span>;</span><br><span class="line">        icon12.<span class="property">className</span> = <span class="string">&quot;iconfont icon-zaixianbaoming&quot;</span>;</span><br><span class="line">    <span class="comment">//fix missing block6</span></span><br><span class="line">        <span class="keyword">if</span>(!<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;block6&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">            <span class="keyword">let</span> block6 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">            block6.<span class="property">innerHTML</span> = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;wap&quot;</span>)[<span class="number">0</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;a&quot;</span>)[<span class="number">4</span>].<span class="property">innerHTML</span>;</span><br><span class="line">            block6.<span class="property">className</span> = <span class="string">&quot;block6&quot;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;wap&quot;</span>)[<span class="number">0</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;a&quot;</span>)[<span class="number">4</span>].<span class="property">innerHTML</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;wap&quot;</span>)[<span class="number">0</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;a&quot;</span>)[<span class="number">4</span>].<span class="title function_">appendChild</span>(block6);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">apply_icons</span>(<span class="params">b,i</span>)&#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(b)[<span class="number">0</span>].<span class="title function_">appendChild</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">apply_icons</span>(<span class="string">&quot;block1&quot;</span>,icon1);</span><br><span class="line">        <span class="title function_">apply_icons</span>(<span class="string">&quot;block2&quot;</span>,icon2);</span><br><span class="line">        <span class="title function_">apply_icons</span>(<span class="string">&quot;block3&quot;</span>,icon3);</span><br><span class="line">        <span class="title function_">apply_icons</span>(<span class="string">&quot;block4&quot;</span>,icon4);</span><br><span class="line">        <span class="title function_">apply_icons</span>(<span class="string">&quot;block5&quot;</span>,icon5);</span><br><span class="line">        <span class="title function_">apply_icons</span>(<span class="string">&quot;block6&quot;</span>,icon6);</span><br><span class="line">        <span class="title function_">apply_icons</span>(<span class="string">&quot;block7&quot;</span>,icon7);</span><br><span class="line">        <span class="title function_">apply_icons</span>(<span class="string">&quot;block8&quot;</span>,icon8);</span><br><span class="line">        <span class="title function_">apply_icons</span>(<span class="string">&quot;block9&quot;</span>,icon9);</span><br><span class="line">        <span class="title function_">apply_icons</span>(<span class="string">&quot;block10&quot;</span>,icon10);</span><br><span class="line">        <span class="title function_">apply_icons</span>(<span class="string">&quot;block11&quot;</span>,icon11);</span><br><span class="line">        <span class="title function_">apply_icons</span>(<span class="string">&quot;block12&quot;</span>,icon12);</span><br><span class="line">        <span class="comment">//add title for hide names func</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;icon-yonghu&quot;</span>)[<span class="number">0</span>].<span class="property">title</span>=<span class="string">&quot;点击切换个人信息展示&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//hide personal info</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;Top1_divLoginName&quot;</span>))&#123;</span><br><span class="line">        <span class="comment">//name color reset</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;Top1_divLoginName&quot;</span>).<span class="property">style</span>=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;Top1_divLoginName&quot;</span>).<span class="property">title</span> = <span class="string">&quot;点击切换个人信息展示&quot;</span>;</span><br><span class="line">        <span class="keyword">let</span> name_top = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;Top1_divLoginName&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> origin_name_top = name_top.<span class="property">innerHTML</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="title class_">Cookies</span>.<span class="title function_">get</span>(<span class="string">&quot;name_top&quot;</span>)==<span class="string">&quot;hidden&quot;</span>)&#123;</span><br><span class="line">            name_top.<span class="property">innerHTML</span> = <span class="string">&quot;个人信息已隐藏&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> name_inner;</span><br><span class="line">        <span class="keyword">let</span> origin_name_inner;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;block1text&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">            name_inner = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;block1text&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">            origin_name_inner= name_inner.<span class="property">innerHTML</span>;</span><br><span class="line">            <span class="keyword">if</span>(<span class="title class_">Cookies</span>.<span class="title function_">get</span>(<span class="string">&quot;name_inner&quot;</span>)==<span class="string">&quot;hidden&quot;</span>)&#123;</span><br><span class="line">                name_inner.<span class="property">innerHTML</span> = <span class="string">&quot;个人信息已隐藏&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;icon-yonghu&quot;</span>)[<span class="number">0</span>].<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, name_hide);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">name_hide_top</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(origin_name_top==name_top.<span class="property">innerHTML</span>)&#123;</span><br><span class="line">                name_top.<span class="property">innerHTML</span> = <span class="string">&quot;个人信息已隐藏&quot;</span>;</span><br><span class="line">                <span class="title class_">Cookies</span>.<span class="title function_">set</span>(<span class="string">&#x27;name_top&#x27;</span>, <span class="string">&#x27;hidden&#x27;</span>, &#123;<span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>&#125;);</span><br><span class="line">                <span class="title class_">Cookies</span>.<span class="title function_">set</span>(<span class="string">&#x27;name_inner&#x27;</span>, <span class="string">&#x27;hidden&#x27;</span>, &#123;<span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>&#125;);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                name_top.<span class="property">innerHTML</span> = origin_name_top;</span><br><span class="line">                <span class="title class_">Cookies</span>.<span class="title function_">remove</span>(<span class="string">&#x27;name_top&#x27;</span>, &#123;<span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>&#125;);</span><br><span class="line">                <span class="title class_">Cookies</span>.<span class="title function_">remove</span>(<span class="string">&#x27;name_inner&#x27;</span>, &#123;<span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">name_hide_inner</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(origin_name_inner==name_inner.<span class="property">innerHTML</span>)&#123;</span><br><span class="line">                name_inner.<span class="property">innerHTML</span> = <span class="string">&quot;个人信息已隐藏&quot;</span>;</span><br><span class="line">                <span class="title class_">Cookies</span>.<span class="title function_">set</span>(<span class="string">&#x27;name_top&#x27;</span>, <span class="string">&#x27;hidden&#x27;</span>, &#123;<span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>&#125;);</span><br><span class="line">                <span class="title class_">Cookies</span>.<span class="title function_">set</span>(<span class="string">&#x27;name_inner&#x27;</span>, <span class="string">&#x27;hidden&#x27;</span>, &#123;<span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>&#125;);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                name_inner.<span class="property">innerHTML</span> = origin_name_inner;</span><br><span class="line">                <span class="title class_">Cookies</span>.<span class="title function_">remove</span>(<span class="string">&#x27;name_top&#x27;</span>, &#123;<span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>&#125;);</span><br><span class="line">                <span class="title class_">Cookies</span>.<span class="title function_">remove</span>(<span class="string">&#x27;name_inner&#x27;</span>, &#123;<span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">name_hide</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;block1text&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">                <span class="title function_">name_hide_top</span>();</span><br><span class="line">                <span class="title function_">name_hide_inner</span>();</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="title function_">name_hide_top</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        name_top.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, name_hide);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//add title for hide names func</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;Footer1_divCopyright&quot;</span>))&#123;</span><br><span class="line">        <span class="keyword">let</span> footer = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;Footer1_divCopyright&quot;</span>);</span><br><span class="line">        footer.<span class="property">className</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        footer.<span class="property">style</span> = <span class="string">&quot;text-align: center;&quot;</span></span><br><span class="line">        <span class="keyword">let</span> info = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">        info.<span class="property">innerHTML</span> = <span class="string">&quot;Beautified with &lt;span class=&#x27;heart&#x27;&gt;❤&lt;/span&gt;&lt;span class=&#x27;info&#x27;&gt; by Simprole&lt;/span&gt;&quot;</span></span><br><span class="line">        info.<span class="property">className</span> = <span class="string">&quot;info&quot;</span>;</span><br><span class="line">        footer.<span class="title function_">appendChild</span>(info);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//form btn style</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;Form&quot;</span>)[<span class="number">1</span>]&amp;&amp;<span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;input&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        <span class="keyword">let</span> buttons = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> form=<span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;Form&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(form[form.<span class="property">length</span>-<span class="number">1</span>].<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;Nsb_r_title&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">            form[form.<span class="property">length</span>-<span class="number">1</span>].<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;Nsb_r_title&quot;</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(buttons);</span><br><span class="line">            <span class="keyword">let</span> btn = form[form.<span class="property">length</span>-<span class="number">1</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;input&quot;</span>);</span><br><span class="line">            <span class="keyword">let</span> btn_len = btn.<span class="property">length</span>;</span><br><span class="line">            <span class="keyword">let</span> validLength = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>($(<span class="string">&quot;.Nsb_layout_r&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=btn_len;i++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(btn[i-<span class="number">1</span>].<span class="title function_">getAttribute</span>(<span class="string">&quot;onclick&quot;</span>))&#123;</span><br><span class="line">                        validLength++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(validLength&gt;=<span class="number">3</span>)&#123;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=btn_len;i++)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(btn[i-<span class="number">1</span>].<span class="title function_">getAttribute</span>(<span class="string">&quot;onclick&quot;</span>))&#123;</span><br><span class="line">                            buttons.<span class="title function_">appendChild</span>(btn[i-<span class="number">1</span>]);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=btn_len;i++)&#123;</span><br><span class="line">                    buttons.<span class="title function_">appendChild</span>(btn[i-<span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//setup table round corner</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;Nsb_table&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        <span class="keyword">let</span> table = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;Nsb_table&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> length = table.<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;kbtable&quot;</span>))&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=length;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(table[i-<span class="number">1</span>].<span class="property">border</span> == <span class="string">&#x27;1&#x27;</span>)&#123;</span><br><span class="line">                    table[i-<span class="number">1</span>].<span class="property">border</span> = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">let</span> tr = table[i-<span class="number">1</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;tr&quot;</span>);</span><br><span class="line">                <span class="keyword">let</span> th = tr[<span class="number">0</span>].<span class="property">children</span>;</span><br><span class="line">                <span class="keyword">if</span>(!<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;Nsb_r_list_thb&quot;</span>)[<span class="number">0</span>]&amp;&amp;th.<span class="property">legnth</span>==<span class="number">1</span>)&#123;</span><br><span class="line">                    th[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;Nsb_r_list_thb&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                th[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;thb_t_l&quot;</span>);</span><br><span class="line">                th[th.<span class="property">length</span>-<span class="number">1</span>].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;thb_t_r&quot;</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">let</span> tr_c = tr[tr.<span class="property">length</span>-<span class="number">1</span>].<span class="property">children</span>;</span><br><span class="line">                <span class="keyword">if</span>(tr_c[<span class="number">0</span>].<span class="property">tagName</span> == <span class="string">&quot;TD&quot;</span>)&#123;</span><br><span class="line">                    tr_c[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;thb_b_l&quot;</span>);</span><br><span class="line">                    tr_c[tr_c.<span class="property">length</span>-<span class="number">1</span>].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;thb_b_r&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;kbtable&quot;</span>))&#123;</span><br><span class="line">        <span class="keyword">let</span> table = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;kbtable&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(table.<span class="property">border</span> == <span class="string">&#x27;1&#x27;</span>)&#123;</span><br><span class="line">            table.<span class="property">border</span> = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> tr = table.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;tr&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> th = tr[<span class="number">0</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;th&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> length = th.<span class="property">length</span>;</span><br><span class="line">        th[<span class="number">0</span>].<span class="property">className</span> += <span class="string">&quot; thb_t_l&quot;</span>;</span><br><span class="line">        th[th.<span class="property">length</span>-<span class="number">1</span>].<span class="property">className</span> += <span class="string">&quot; thb_t_r&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> tr_c = tr[tr.<span class="property">length</span>-<span class="number">1</span>].<span class="property">children</span>;</span><br><span class="line">        tr_c[<span class="number">0</span>].<span class="property">className</span> += <span class="string">&quot; thb_b_l&quot;</span>;</span><br><span class="line">        tr_c[tr_c.<span class="property">length</span>-<span class="number">1</span>].<span class="property">className</span> += <span class="string">&quot; thb_b_r&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//fix a width</span></span><br><span class="line">    <span class="keyword">if</span>($(<span class="string">&quot;*[name=&#x27;zyxzForm&#x27;]&quot;</span>)[<span class="number">0</span>])&#123;</span><br><span class="line">        $(<span class="string">&quot;*[name=&#x27;zyxzForm&#x27;]&quot;</span>)[<span class="number">0</span>].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;div&quot;</span>)[<span class="number">0</span>].<span class="property">style</span>=<span class="string">&quot;width:100%&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//setup page flip btn style</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;PagingControl1_btnPrevPage&quot;</span>))&#123;</span><br><span class="line">        <span class="keyword">let</span> prevbtn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;PagingControl1_btnPrevPage&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> nextbtn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;PagingControl1_btnNextPage&quot;</span>);</span><br><span class="line">        prevbtn.<span class="property">innerHTML</span> = <span class="string">&quot;&lt;&quot;</span>;</span><br><span class="line">        nextbtn.<span class="property">innerHTML</span> = <span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(prevbtn.<span class="property">attributes</span>.<span class="property">disabled</span>)&#123;</span><br><span class="line">            prevbtn.<span class="property">className</span> = <span class="string">&quot;disabled&quot;</span>;</span><br><span class="line">            nextbtn.<span class="property">className</span> = <span class="string">&quot;disabled&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="自动评教"><a href="#自动评教" class="headerlink" title="自动评教"></a>自动评教</h2><p>效果如图：<br><img lazyload alt="image" data-src="/./%E5%9F%BA%E4%BA%8E%E6%B2%B9%E7%8C%B4%E7%9A%84%E4%B8%80%E4%BA%9Bwbu%E8%84%9A%E6%9C%AC/pic2.png"></p>
<p>代码:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ==UserScript==</span></span><br><span class="line"><span class="comment">// @name         WBUTeachersEvaluator</span></span><br><span class="line"><span class="comment">// @namespace    http://tampermonkey.net/</span></span><br><span class="line"><span class="comment">// @version      0.2</span></span><br><span class="line"><span class="comment">// @description  WBU自动教学评价</span></span><br><span class="line"><span class="comment">// @author       Simprole</span></span><br><span class="line"><span class="comment">// @match        http://jw.wbu.edu.cn/jsxsd/*</span></span><br><span class="line"><span class="comment">// @match        http://jw-wbu-edu-cn.webvpn.wbu.edu.cn:8118/jsxsd/*</span></span><br><span class="line"><span class="comment">// @icon         https://www.wbu.edu.cn/_upload/tpl/00/a9/169/template169/images/favicon.ico</span></span><br><span class="line"><span class="comment">// @require      https://libs.baidu.com/jquery/2.0.0/jquery.min.js</span></span><br><span class="line"><span class="comment">// @run-at       document-start</span></span><br><span class="line"><span class="comment">// @grant        unsafeWindow</span></span><br><span class="line"><span class="comment">// @grant        GM_addStyle</span></span><br><span class="line"><span class="comment">// @grant        GM_getResourceText</span></span><br><span class="line"><span class="comment">// ==/UserScript==</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    $(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;style&gt;input#SimBtn&#123;width: unset!important;font-size: 1rem;background-image: none;color: #fff!important;;background-color: rgb(35 119 254);border: rgb(35 119 254);border-radius: 20px;box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.4);padding: 5px 10px 5px 13px;position: relative;letter-spacing: 1px;text-align: center;text-decoration:none!important;height: min-content;transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: filter,box-shadow,transform;&amp;:hover&#123;text-decoration:none;filter: brightness(0.8);box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.7);transform: translateY(0.5px);transition: 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);transition-property: filter,box-shadow,transform;&#125;&#125;&lt;/style&gt;&#x27;</span>));</span><br><span class="line">        $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($(<span class="string">&#x27;&lt;script&gt;function saveDataUnlimited(obj, status)&#123;var pj06xhs = document.getElementsByName(&quot;pj06xh&quot;);var flag = true;for (let i = 0; i &lt; pj06xhs.length; i++) &#123;if(jQuery(&quot;input[name=\&#x27;pj0601id_&quot;+ pj06xhs[i].value+&quot;\&#x27;]:checked&quot;).length == 0) &#123;flag = false;break;&#125;&#125;if (!flag) &#123;alert(&quot;评价的每项指标都必须选择!&quot;);return false;&#125;flag = false;var minZb = 0;for (let i = 0; i &lt; pj06xhs.length; i++) &#123;var pj0601s = document.getElementsByName(&quot;pj0601id_&quot;+ pj06xhs[i].value);minZb = pj0601s.length;break;&#125;for(let j = 0; j &lt; minZb; j++) &#123;var _ind = 0;for (let i = 0; i &lt; pj06xhs.length; i++) &#123;pj0601s = document.getElementsByName(&quot;pj0601id_&quot;+ pj06xhs[i].value);if (j &lt; pj0601s.length &amp;&amp; pj0601s[j].checked) &#123;_ind++;&#125;&#125;if (_ind == pj06xhs.length) &#123;flag = true;break;&#125;&#125;if (status == &quot;1&quot;) &#123;document.getElementById(&quot;issubmit&quot;).value = &quot;1&quot;;&#125; else &#123;document.getElementById(&quot;issubmit&quot;).value = &quot;0&quot;;&#125;if(status == &quot;1&quot; &amp;&amp; !confirm(&quot;您是否确认提交当前评价,提交后不能修改！&quot;)) &#123;&#125; else &#123;obj.disabled = true;document.getElementById(&quot;Form1&quot;).submit();&#125;&#125;&lt;/script&gt;&#x27;</span>));</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">autoClick</span>(<span class="params">level</span>)&#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;#table1 tr td&quot;</span>).<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(e.<span class="title function_">querySelector</span>(<span class="string">&quot;input[type=radio]&quot;</span>))&#123;</span><br><span class="line">                    <span class="keyword">let</span> option = e.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;input[type=radio]&quot;</span>);</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=option.<span class="property">length</span>;i++)&#123;</span><br><span class="line">                        option[<span class="number">0</span>].<span class="property">checked</span> = <span class="literal">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;script[language=javascript]&quot;</span>))&#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;script[language=javascript]&quot;</span>).<span class="title function_">forEach</span>(<span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(e.<span class="property">innerHTML</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;alert(&#x27;保存成功&#x27;);&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(<span class="variable language_">window</span>.<span class="property">parent</span>.<span class="property">parent</span>.<span class="property">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#SimPage&quot;</span>))&#123;</span><br><span class="line">                        <span class="variable language_">window</span>.<span class="property">parent</span>.<span class="property">parent</span>.<span class="title function_">refresh</span>();</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        <span class="variable language_">window</span>.<span class="property">parent</span>.<span class="title function_">refresh</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;td.toolstitle&quot;</span>))&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;td.toolstitle&quot;</span>).<span class="property">innerHTML</span>==<span class="string">&#x27;学生评教&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">let</span> calcBtn = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;input&quot;</span>);</span><br><span class="line">                calcBtn.<span class="title function_">setAttribute</span>(<span class="string">&quot;value&quot;</span>,<span class="string">&quot;自动评教&quot;</span>);</span><br><span class="line">                calcBtn.<span class="title function_">setAttribute</span>(<span class="string">&quot;type&quot;</span>,<span class="string">&quot;button&quot;</span>);</span><br><span class="line">                calcBtn.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;button&quot;</span>);</span><br><span class="line">                calcBtn.<span class="property">id</span> = <span class="string">&quot;SimBtn&quot;</span>;</span><br><span class="line">                calcBtn.<span class="property">style</span>.<span class="property">cssText</span> = <span class="string">&quot;position: fixed;bottom: 1rem;z-index: 100;right: 1rem;&quot;</span></span><br><span class="line">                calcBtn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,autoClick);</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(calcBtn);</span><br><span class="line">                <span class="title function_">unlimitable</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">unlimitable</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;td[align][style] input[type=button][name]&quot;</span>)) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;td[align][style] input[type=button][name]&quot;</span>).<span class="title function_">forEach</span>(<span class="function">(<span class="params">f</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(f.<span class="title function_">getAttribute</span>(<span class="string">&quot;onclick&quot;</span>))&#123;</span><br><span class="line">                    <span class="keyword">if</span>(f.<span class="title function_">getAttribute</span>(<span class="string">&quot;onclick&quot;</span>).<span class="title function_">indexOf</span>(<span class="string">&quot;saveData&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                        f.<span class="title function_">setAttribute</span>(<span class="string">&quot;onclick&quot;</span>,<span class="string">&quot;saveDataUnlimited&quot;</span>+f.<span class="title function_">getAttribute</span>(<span class="string">&quot;onclick&quot;</span>).<span class="title function_">slice</span>(f.<span class="title function_">getAttribute</span>(<span class="string">&quot;onclick&quot;</span>).<span class="title function_">indexOf</span>(<span class="string">&quot;(&quot;</span>)));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">asyncSleep</span>(<span class="params">time</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> <span class="built_in">setTimeout</span>(resolve, time));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">saveDataUnlimited</span>(<span class="params">obj, status</span>)&#123;</span><br><span class="line">                <span class="keyword">var</span> pj06xhs = <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&quot;pj06xh&quot;</span>);</span><br><span class="line">                <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pj06xhs.<span class="property">length</span>; i++) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(<span class="title function_">jQuery</span>(<span class="string">&quot;input[name=&#x27;pj0601id_&quot;</span>+ pj06xhs[i].<span class="property">value</span>+<span class="string">&quot;&#x27;]:checked&quot;</span>).<span class="property">length</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                        flag = <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (!flag) &#123;</span><br><span class="line">                    <span class="title function_">alert</span>(<span class="string">&quot;评价的每项指标都必须选择!&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">var</span> minZb = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pj06xhs.<span class="property">length</span>; i++) &#123;</span><br><span class="line">                    <span class="keyword">var</span> pj0601s = <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&quot;pj0601id_&quot;</span>+ pj06xhs[i].<span class="property">value</span>);</span><br><span class="line">                    minZb = pj0601s.<span class="property">length</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; minZb; j++) &#123;</span><br><span class="line">                    <span class="keyword">var</span> _ind = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pj06xhs.<span class="property">length</span>; i++) &#123;</span><br><span class="line">                        pj0601s = <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&quot;pj0601id_&quot;</span>+ pj06xhs[i].<span class="property">value</span>);</span><br><span class="line">                        <span class="keyword">if</span> (j &lt; pj0601s.<span class="property">length</span> &amp;&amp; pj0601s[j].<span class="property">checked</span>) &#123;</span><br><span class="line">                            _ind++;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                <span class="keyword">if</span> (_ind == pj06xhs.<span class="property">length</span>) &#123;</span><br><span class="line">                    flag = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (status == <span class="string">&quot;1&quot;</span>) &#123;</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;issubmit&quot;</span>).<span class="property">value</span> = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;issubmit&quot;</span>).<span class="property">value</span> = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(status == <span class="string">&quot;1&quot;</span> &amp;&amp; !<span class="title function_">confirm</span>(<span class="string">&quot;您是否确认提交当前评价,提交后不能修改！&quot;</span>)) &#123;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                obj.<span class="property">disabled</span> = <span class="literal">true</span>;</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;Form1&quot;</span>).<span class="title function_">submit</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>


<h2 id="雨课堂刷视频"><a href="#雨课堂刷视频" class="headerlink" title="雨课堂刷视频"></a>雨课堂刷视频</h2><p>代码:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ==UserScript==</span></span><br><span class="line"><span class="comment">// @name         雨课堂刷视频</span></span><br><span class="line"><span class="comment">// @namespace    http://tampermonkey.net/</span></span><br><span class="line"><span class="comment">// @version      0.2</span></span><br><span class="line"><span class="comment">// @description  雨课堂刷视频</span></span><br><span class="line"><span class="comment">// @author       Simprole</span></span><br><span class="line"><span class="comment">// @match        https://xxxxx.yuketang.cn/v2/web/xcloud/video-student/*</span></span><br><span class="line"><span class="comment">// @icon         https://www.wbu.edu.cn/_upload/tpl/00/a9/169/template169/images/favicon.ico</span></span><br><span class="line"><span class="comment">// @require      https://libs.baidu.com/jquery/2.0.0/jquery.min.js</span></span><br><span class="line"><span class="comment">// @run-at       document-start</span></span><br><span class="line"><span class="comment">// @grant        unsafeWindow</span></span><br><span class="line"><span class="comment">// @grant        GM_addStyle</span></span><br><span class="line"><span class="comment">// @grant        GM_getResourceText</span></span><br><span class="line"><span class="comment">// ==/UserScript==</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    $(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="title function_">ultraPlay</span>();</span><br><span class="line">        <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">ultraPlay</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">await</span> <span class="title function_">asyncSleep</span>(<span class="number">2000</span>);</span><br><span class="line">            <span class="keyword">let</span> video = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;video&quot;</span>);</span><br><span class="line">            <span class="keyword">while</span>(video.<span class="property">currentTime</span>&lt;video.<span class="property">duration</span>&amp;&amp;<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.title-fr .text&quot;</span>).<span class="property">innerText</span>!=<span class="string">&quot;已完成&quot;</span>)&#123;</span><br><span class="line">                <span class="keyword">let</span> prevCurTime = video.<span class="property">currentTime</span>;</span><br><span class="line">                video.<span class="property">currentTime</span> += <span class="number">25</span>;</span><br><span class="line">                <span class="keyword">await</span> <span class="title function_">asyncSleep</span>(<span class="number">200</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="title class_">Math</span>.<span class="title function_">abs</span>(prevCurTime-video.<span class="property">currentTime</span>)&lt;=<span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">                        <span class="keyword">await</span> <span class="title function_">asyncSleep</span>(<span class="number">50</span>);</span><br><span class="line">                        video.<span class="property">currentTime</span> = video.<span class="property">duration</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    location.<span class="title function_">reload</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.title-fr .text&quot;</span>).<span class="property">innerText</span>!=<span class="string">&quot;已完成&quot;</span>)&#123;</span><br><span class="line">                location.<span class="title function_">reload</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">asyncSleep</span>(<span class="params">time</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> <span class="built_in">setTimeout</span>(resolve, time));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
                    
                </div>

                
                        
<div class="post-copyright-info-container border-box">
    <div class="copyright-info-content border-box">
        <div class="copyright-info-top border-box">
            <div class="copyright-post-title border-box text-ellipsis">
                基于油猴的一些wbu脚本
            </div>

            <div class="copyright-post-link border-box text-ellipsis">
                2023/12/07/基于油猴的一些wbu脚本/
            </div>
        </div>

        <div class="copyright-info-bottom border-box">
            <div class="copyright-post-author bottom-item">
                <div class="type">
                    作者
                </div>
                <div class="content">云湍</div>
            </div>

            <div class="post-time bottom-item">
                <div class="type">
                    发布于
                </div>
                <div class="content">2023-12-07 00:54</div>
            </div>


            <div class="post-license bottom-item">
                <div class="type">
                    许可
                </div>
                <div class="content tooltip" data-tooltip-content="CC BY-NC-SA 4.0">
                    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" target="_blank">
                        
                            <i class="fa-brands fa-creative-commons"></i>
                            <i class="fa-brands fa-creative-commons-by"></i>
                            <i class="fa-brands fa-creative-commons-nc"></i>
                            <i class="fa-brands fa-creative-commons-sa"></i>
                        
                    </a>
                </div>
            </div>
        </div>

        <i class="copyright-bg fa-solid fa-copyright"></i>
    </div>
    <div class="copy-copyright-info flex-center tooltip" data-tooltip-content="复制版权信息" data-tooltip-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                

                <div class="post-bottom-tags-and-share border-box">
                    <div>
                        
                            <ul class="post-tags-box border-box">
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/%E8%84%9A%E6%9C%AC/">脚本</a>
                                    </li>
                                
                            </ul>
                        
                    </div>
                    <div>
                        
                            <div class="post-share-container border-box">
    <ul class="share-list-wrap border-box">
        <li class="qq share-item border-box flex-center tooltip"
            data-tooltip-content="分享到 QQ"
        >
            <i class="fa-brands fa-qq"></i>
        </li>
        <li class="wechat share-item border-box flex-center tooltip tooltip-img"
            data-tooltip-content="分享到微信"
            data-tooltip-img-tip="微信扫一扫"
            data-tooltip-img-style="background-color: #fff; top: -10px; padding: 0.6rem 0.6rem 0.1rem 0.6rem;"
        >
            <i class="fa-brands fa-weixin"></i>
        </li>
        <li class="weibo share-item border-box flex-center tooltip"
            data-tooltip-content="分享到微博"
        >
            <i class="fa-brands fa-weibo"></i>
        </li>
    </ul>
</div>

                        
                    </div>
                </div>

                

                
                    <div class="post-nav border-box">
                        
                            <div class="prev-post">
                                <a class="prev"
                                   rel="prev"
                                   href="/2023/12/15/%E7%AE%97%E6%B3%95%E6%9C%9F%E6%9C%AB%E5%8F%AF%E8%83%BD%E7%9A%84%E9%87%8D%E7%82%B9/"
                                   title="算法期末可能的重点"
                                >
                                    <span class="left arrow-icon flex-center">
                                        <i class="fas fa-chevron-left"></i>
                                    </span>
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">算法期末可能的重点</span>
                                        <span class="post-nav-item">上一篇</span>
                                    </span>
                                </a>
                            </div>
                        
                        
                            <div class="next-post">
                                <a class="next"
                                   rel="next"
                                   href="/2023/08/04/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-15%EF%BC%9A%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"
                                   title="数据结构_15：排序算法"
                                >
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">数据结构_15：排序算法</span>
                                        <span class="post-nav-item">下一篇</span>
                                    </span>
                                    <span class="right arrow-icon flex-center">
                                        <i class="fas fa-chevron-right"></i>
                                    </span>
                                </a>
                            </div>
                        
                    </div>
                

                
                    


    <div class="comments-container border-box">
        <div id="comments-anchor" class="comment-area-title border-box">
            <i class="fas fa-comments"></i>&nbsp;评论
        </div>
        <div class="comment-plugin-fail border-box">
    <span class="fail-tip">评论插件加载失败</span>
    <button class="reload keep-button">点击重新加载</button>
</div>
<div class="comment-plugin-loading flex-center border-box">
    <i class="loading-icon fa-solid fa-spinner fa-spin"></i>
    <span class="load-tip">正在加载评论插件</span>
</div>
<script data-pjax>
  window.KeepCommentPlugin = {}
  window.KeepCommentPlugin.hideLoading = () => {
    const cplDom = document.querySelector('.comments-container .comment-plugin-loading')
    cplDom.style.display = 'none'
  }
  window.KeepCommentPlugin.loadFailHandle = () => {
    window.KeepCommentPlugin.hideLoading()
    const cpfDom = document.querySelector('.comments-container .comment-plugin-fail')
    cpfDom.style.display = 'flex'
    cpfDom.querySelector('.reload').addEventListener('click', () => {
      window.location.reload()
    })
  }
</script>

        
            

    <div class="valine-container">
        <div id="vcomments"></div>
        <script data-pjax
                src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"
                async
                onerror="window.KeepCommentPlugin.loadFailHandle()"
        ></script>
        <script data-pjax
                async
                onerror="window.KeepCommentPlugin.loadFailHandle()"
        >
          window.KeepCommentPlugin.initValine = () => {
            const config = {
              el: '#vcomments',
              appId: 'Wh3jFmErROxeu2W2QqY0HeiJ-gzGzoHsz',
              appKey: 'AoClJUljWDd4re4rYNjeP9ma',
              meta: ['nick', 'mail', 'link'],
              avatar: 'wavatar',
              enableQQ: true,
              placeholder: '尽情评论吧！',
              lang: 'zh-CN'.toLowerCase()
            }

            if ('') {
              config.serverURLs = ''
            }

            if (window?.Valine) {
              new Valine(config)
              window.KeepCommentPlugin.hideLoading()
            } else {
              setTimeout(() => {
                window.KeepCommentPlugin.initValine()
              }, 1000)
            }
          }

          if ('true' === 'true') {
            setTimeout(() => {
              window.KeepCommentPlugin.initValine()
            }, 1200)
          } else {
            window.addEventListener('DOMContentLoaded', window.KeepCommentPlugin.initValine)
          }
        </script>
    </div>


        
    </div>





                
            </div>
        </div>

        
            <div class="pc-post-toc right-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80%E5%8F%8A%E5%A3%B0%E6%98%8E"><span class="nav-text">前言及声明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BE%8E%E5%8C%96%E7%95%8C%E9%9D%A2"><span class="nav-text">美化界面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E8%AF%84%E6%95%99"><span class="nav-text">自动评教</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9B%A8%E8%AF%BE%E5%A0%82%E5%88%B7%E8%A7%86%E9%A2%91"><span class="nav-text">雨课堂刷视频</span></a></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>
        </div>

        <div class="page-main-content-bottom border-box">
            
<footer class="footer border-box">
    <div class="copyright-info info-item">
        &copy;&nbsp;<span>2020</span>&nbsp;-&nbsp;2024
        
            &nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a href="/">云湍</a>
        
    </div>

    <div class="theme-info info-item">
        由&nbsp;<a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;驱动&nbsp;&&nbsp;主题&nbsp;<a class="keep-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep</a>
    </div>

    

    
        <div class="count-info info-item">
            
                <span class="count-item border-box word">
                    <span class="item-type border-box">总字数</span>
                    <span class="item-value border-box word">28.7k</span>
                </span>
            

            
                <span class="count-item border-box uv">
                    <span class="item-type border-box">访客数</span>
                    <span class="item-value border-box uv" id="busuanzi_value_site_uv"></span>
                </span>
            

            
                <span class="count-item border-box pv">
                    <span class="item-type border-box">访问量</span>
                    <span class="item-value border-box pv" id="busuanzi_value_site_pv"></span>
                </span>
            
        </div>
    

    
</footer>

        </div>
    </div>

    <!-- post tools -->
    
        <div class="post-tools right-toc">
            <div class="post-tools-container border-box">
    <ul class="post-tools-list border-box">
        <!-- PC encrypt again -->
        

        <!-- PC TOC show toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- PC go comment -->
        
            <li class="tools-item flex-center go-to-comments">
                <i class="fas fa-comment"></i>
                <span class="post-comments-count"></span>
            </li>
        

        <!-- PC full screen -->
        <li class="tools-item flex-center full-screen">
            <i class="fa-solid fa-expand"></i>
        </li>
    </ul>
</div>

        </div>
    

    <!-- side tools -->
    <div class="side-tools">
        <div class="side-tools-container border-box ">
    <ul class="side-tools-list side-tools-show-handle border-box">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <!-- toggle mode -->
        
            <li class="tools-item tool-toggle-theme-mode flex-center">
                <i class="fas fa-moon"></i>
            </li>
        

        <!-- rss -->
        

        <!-- to bottom -->
        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list border-box">
        
            <li class="tools-item toggle-show-toc-tablet flex-center">
                <i class="fas fa-list"></i>
            </li>
        

        
            <li class="tools-item go-to-comments-tablet flex-center">
                <i class="fas fa-comment"></i>
            </li>
        

        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>

        <li class="tools-item tool-scroll-to-top flex-center show-arrow">
            <i class="arrow fas fa-arrow-up"></i>
            <span class="percent"></span>
        </li>
    </ul>
</div>

    </div>

    <!-- image mask -->
    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    <!-- local search -->
    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

    <!-- tablet toc -->
    
        <div class="tablet-post-toc-mask">
            <div class="tablet-post-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80%E5%8F%8A%E5%A3%B0%E6%98%8E"><span class="nav-text">前言及声明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BE%8E%E5%8C%96%E7%95%8C%E9%9D%A2"><span class="nav-text">美化界面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E8%AF%84%E6%95%99"><span class="nav-text">自动评教</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9B%A8%E8%AF%BE%E5%A0%82%E5%88%B7%E8%A7%86%E9%A2%91"><span class="nav-text">雨课堂刷视频</span></a></li></ol>
    </div>
</div>

            </div>
        </div>
    
</main>





<!-- common js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/utils.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/header-shrink.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/back2top.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/toggle-theme.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/code-block.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/main.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/libs/anime.min.js"></script>

<!-- local search -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/local-search.min.js"></script>


<!-- lazyload -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/lazyload.min.js"></script>


<div class="pjax">
    <!-- home page -->
    

    <!-- post page -->
    
        <!-- post-helper -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/post/post-helper.min.js"></script>

        <!-- toc -->
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/post/toc.min.js"></script>
        

        <!-- copyright-info -->
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/post/copyright-info.min.js"></script>
        

        <!-- share -->
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/post/share.min.js"></script>
        
    

    <!-- categories page -->
    

    <!-- links page -->
    

    <!-- photos page -->
    

    <!-- tools page -->
    
</div>

<!-- mermaid -->


<!-- pjax -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.0/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart()
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd()
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'))
            KEEP.initExecute()
        });
    });
</script>




    
        
    

</body>
</html>
